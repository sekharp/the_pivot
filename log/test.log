  [1m[36m (134.8ms)[0m  [1mDROP DATABASE IF EXISTS "sticker_shop_test"[0m
  [1m[35m (721.5ms)[0m  CREATE DATABASE "sticker_shop_test" ENCODING = 'unicode'
  [1m[36mSQL (2.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "slug" character varying) 
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "order_stickers" ("id" serial primary key, "quantity" integer, "order_id" integer, "sticker_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX  "index_order_stickers_on_order_id" ON "order_stickers" USING btree ("order_id")
  [1m[36m (6.0ms)[0m  [1mCREATE  INDEX  "index_order_stickers_on_sticker_id" ON "order_stickers" USING btree ("sticker_id")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "status" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")[0m
  [1m[35m (4.8ms)[0m  CREATE TABLE "stickers" ("id" serial primary key, "title" character varying, "image_url" character varying, "price" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "category_id" integer, "description" text, "retired" boolean DEFAULT 'f', "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_stickers_on_category_id" ON "stickers" USING btree ("category_id")[0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "role" integer DEFAULT 0, "street_address" character varying, "city" character varying, "state" character varying, "zip" character varying) 
  [1m[36m (11.3ms)[0m  [1mALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_a163a7139d"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_64d393616e"
FOREIGN KEY ("sticker_id")
  REFERENCES "stickers" ("id")

  [1m[36m (4.7ms)[0m  [1mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (6.5ms)[0m  ALTER TABLE "stickers" ADD CONSTRAINT "fk_rails_9be81ac043"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")

  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (3.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151119162543')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151109233140')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110014522')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110014651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110162749')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110222025')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151111025316')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151112021959')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114022109')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114184730')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114193643')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151115161330')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151116224156')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117153302')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117192957')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117203807')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151118202532')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151119020639')[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$87keBEkbDtcRFZiGmxB7Cu4xNHnc6AMjJsHAJckX4iEMjT/Ps1IJy"], ["created_at", "2015-11-30 20:31:22.132841"], ["updated_at", "2015-11-30 20:31:22.132841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:22 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (1.0ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 3185ms (Views: 3155.3ms | ActiveRecord: 2.2ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:25 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (372.6ms)
Completed 200 OK in 379ms (Views: 378.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.9ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 1], ["created_at", "2015-11-30 20:31:26.156390"], ["updated_at", "2015-11-30 20:31:26.156390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  Rendered orders/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-cw1suc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-1sx5bv5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-1jzawp4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-v7eqdr'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mcwjrk.png'
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:26.321643"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:26.701872"], ["updated_at", "2015-11-30 20:31:26.701872"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-urbuck.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-kilsrg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-6we0zy'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-2nociv'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-byq6qn.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:26.833850"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-11-30 20:31:27.109881"], ["updated_at", "2015-11-30 20:31:27.109881"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.8ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.8ms)
Started POST "/cart_stickers?sticker_id=1" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"1"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.6ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=2" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"2"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 2]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mSticker Load (0.7ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "2"]]
  Rendered cart/index.html.erb within layouts/application (48.9ms)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-y5g7o9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-1llh4vb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-18zqifi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-bw2xdy'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-pkcdfg.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:27.458927"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:27.727626"], ["updated_at", "2015-11-30 20:31:27.727626"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/3" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 3]]
  Rendered stickers/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-tt2ltn.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-1k6eqqb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-kg537q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-g90gzn'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ygnmk.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:27.879295"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:28.173318"], ["updated_at", "2015-11-30 20:31:28.173318"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/4" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
  Rendered stickers/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1r9ioon.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-1k2qsgd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-18wyhdv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-1oxa4mx'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1d8tf2l.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:28.330261"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:28.685432"], ["updated_at", "2015-11-30 20:31:28.685432"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=5" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"5"}
  [1m[35mSticker Load (0.8ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 5]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-43jz5h.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-1b528av'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-1nezhiq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-u34idx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wauhlx.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:28.864360"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:29.176971"], ["updated_at", "2015-11-30 20:31:29.176971"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/6" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 6]]
  Rendered stickers/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$CTBDDUOZUdm7RjZ0R5mlouVbl7gzamuIuDn3y8J3Na2zEvUSQ0J7C"], ["role", 1], ["created_at", "2015-11-30 20:31:29.217410"], ["updated_at", "2015-11-30 20:31:29.217410"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$UaVXBwfB2FkuNGjVOot/NOfdN76nASi6J3pDulZLnvXM0uOi2C2e6"], ["role", 1], ["created_at", "2015-11-30 20:31:29.295473"], ["updated_at", "2015-11-30 20:31:29.295473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 2.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
  Rendered admin/stickers/new.html.erb within layouts/application (14.2ms)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.5ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1verqpe.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-bdhaf2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-6eaul4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-12uvt6y'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-ggi0vy.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1mff1go.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-11-30 20:31:29.895239"], ["created_at", "2015-11-30 20:31:30.277764"], ["updated_at", "2015-11-30 20:31:30.277764"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 899ms (ActiveRecord: 7.2ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.9ms)
  [1m[35mSticker Load (0.6ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$GKrbAV7rcVqPcCKYsCtU.urzgRIU/hu.0m2DrYb6rd.lWYbFpxfyC"], ["role", 1], ["created_at", "2015-11-30 20:31:30.332914"], ["updated_at", "2015-11-30 20:31:30.332914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-sg1biz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-4fe8uv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-xnejah'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-1xw7qaa'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-8o3oed.png'
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1rleo54.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-11-30 20:31:30.513268"], ["created_at", "2015-11-30 20:31:30.865031"], ["updated_at", "2015-11-30 20:31:30.865031"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 501ms (ActiveRecord: 3.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.7ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-48y9gr.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-hy0x1c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-1hjg4wd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-vwfvys'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-kjadid.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:31.045061"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:31.321224"], ["updated_at", "2015-11-30 20:31:31.321224"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=9" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"9"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "9"]]
  Rendered cart/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/9?adjustment=increase" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"9"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "9"]]
  Rendered cart/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-aakxwd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-z56gdg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-v2x43f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-nz6u1y'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-3h9vs8.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:31.507901"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:31.792332"], ["updated_at", "2015-11-30 20:31:31.792332"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=10" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=10" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "10"]]
  Rendered cart/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/10?adjustment=decrease" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "10"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-19e8d77.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-c3ki7i'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-16paxrp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-3swgzn'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-3v3abg.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:32.040027"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:32.330322"], ["updated_at", "2015-11-30 20:31:32.330322"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=11" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"11"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 11]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "11"]]
  Rendered cart/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.7ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 38ms (Views: 37.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$KsgyLwn1hfYSisxvNjzUUeEEI/J5JB81vyNWJBminpWsbZWcpvnly"], ["created_at", "2015-11-30 20:31:32.479273"], ["updated_at", "2015-11-30 20:31:32.479273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 5]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 5]]
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$2R36DINF/M1kIZqMrCJHq.Q5j711SeqUDhWiiCo2VYjfTwm1N6iJW"], ["created_at", "2015-11-30 20:31:32.543230"], ["updated_at", "2015-11-30 20:31:32.543230"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Emily"], ["password_digest", "$2a$04$1mjPcxOOVUqv.LydB.1Ht.TNvlN9pXW7UOxPZWwvHIxy8BtsC/bai"], ["created_at", "2015-11-30 20:31:32.550296"], ["updated_at", "2015-11-30 20:31:32.550296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 6], ["created_at", "2015-11-30 20:31:32.553844"], ["updated_at", "2015-11-30 20:31:32.553844"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 7], ["created_at", "2015-11-30 20:31:32.556642"], ["updated_at", "2015-11-30 20:31:32.556642"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/orders/2" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrderSticker Load (0.8ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 2.6ms)
Started GET "/orders/3" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "beyonce"], ["password_digest", "$2a$04$L49v6K9GH5/SX398C7Q1seNdc/8RZBa5XFZmQxl6VEiaUqmgwLi2S"], ["role", 1], ["created_at", "2015-11-30 20:31:32.665015"], ["updated_at", "2015-11-30 20:31:32.665015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$89Zg/I/HY0hlvgX4enBtgORVUCJ04wh8gQFN5Is90TkRofnxhOACu"], ["role", 1], ["created_at", "2015-11-30 20:31:32.701444"], ["updated_at", "2015-11-30 20:31:32.701444"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.4ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-5irvf4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-1tw2wfl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-1hpk0ex'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-dap0ei'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-xgg1n.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1cvr3qv.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:32.877356"], ["created_at", "2015-11-30 20:31:33.158379"], ["updated_at", "2015-11-30 20:31:33.158379"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 427ms (ActiveRecord: 3.8ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.6ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/12/edit" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered admin/stickers/edit.html.erb within layouts/application (18.4ms)
Completed 200 OK in 25ms (Views: 23.1ms | ActiveRecord: 0.5ms)
Started PATCH "/stickers/12" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/012/original/uwgt.png?1448915492", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"12"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 12]]
Unpermitted parameters: category, image
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.6ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 12) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3[0m  [["retired", "t"], ["updated_at", "2015-11-30 20:31:33.253702"], ["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 12) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers/12/edit" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered admin/stickers/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$m.LTW8m/RQGYQdzDlN6pf.uJqvXZyGdLLlLRZwdJFuvxbYqCv4l3q"], ["role", 1], ["created_at", "2015-11-30 20:31:33.290610"], ["updated_at", "2015-11-30 20:31:33.290610"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.4ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-cscqcr.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-1hxnb70'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-1hsocc8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-100kcrl'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-j72f0h.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-2w0nwq.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:34.474364"], ["created_at", "2015-11-30 20:31:34.747696"], ["updated_at", "2015-11-30 20:31:34.747696"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 1409ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35mSticker Load (0.6ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/13/edit" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 13]]
  Rendered admin/stickers/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms)
Started PATCH "/stickers/13" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/013/original/uwgt.png?1448915494", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"13"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 13]]
Unpermitted parameters: category, image
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 13) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-11-30 20:31:34.812997"], ["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 13) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$zH6lF9MNbrdWBYsVz65Oeug4ElLiopLr2miI12PZsuINTXdCGGpzy"], ["created_at", "2015-11-30 20:31:34.833447"], ["updated_at", "2015-11-30 20:31:34.833447"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-db453p.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-1uot0tt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-szpjqr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-yrexic'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-wt628t.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:34.935895"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:35.215568"], ["updated_at", "2015-11-30 20:31:35.215568"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=14" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"14"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 14]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.8ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "14"]]
  Rendered cart/index.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.7ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started GET "/users/new" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$daXjO17Eig7jLRFXNRu5k.pGVx9B7DB7.jbetHrHJP1rvb2byEll2"], ["created_at", "2015-11-30 20:31:35.412693"], ["updated_at", "2015-11-30 20:31:35.412693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$OyUWHFtedzwl8tMesVqgJ.byXUQcM3pxxQKftr..ukiRuDRAfJBau"], ["created_at", "2015-11-30 20:31:35.438285"], ["updated_at", "2015-11-30 20:31:35.438285"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 13]]
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-f2w9eq.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-sbotnx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-1lgwjsc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-192971f'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1ba9im4.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:35.625268"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:35.910171"], ["updated_at", "2015-11-30 20:31:35.910171"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-24c0vw.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-1i4q5cc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-kfckjm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-1c22bvt'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-po10n2.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:36.057852"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:36.360191"], ["updated_at", "2015-11-30 20:31:36.360191"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$2VuPEcmefY/6izr6VJM9Uuy4.hRqW/GSHxKyebUnC3fj1tH1ZBhre"], ["created_at", "2015-11-30 20:31:36.382171"], ["updated_at", "2015-11-30 20:31:36.382171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=16" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"16"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 16]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=16" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"16"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 16]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "16"]]
  Rendered cart/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.7ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 14], ["created_at", "2015-11-30 20:31:36.490163"], ["updated_at", "2015-11-30 20:31:36.490163"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 16], ["order_id", 4], ["created_at", "2015-11-30 20:31:36.493177"], ["updated_at", "2015-11-30 20:31:36.493177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 14]]
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-e08wx1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-1jbrlp7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-1agvnwp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-xnh7ef'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sxxh2b.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:36.669360"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:36.966079"], ["updated_at", "2015-11-30 20:31:36.966079"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=17" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"17"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 17]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "17"]]
  Rendered cart/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14l6yhk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-1xy7t7s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-z5xl8w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-1k14pcu'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1ipqzx4.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:37.140697"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:37.472021"], ["updated_at", "2015-11-30 20:31:37.472021"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$wsys91/eR490G0L1SIeXQuiNt3m2JyqaYa7m3tPo6Lt7Cp4a2YKTS"], ["created_at", "2015-11-30 20:31:37.491438"], ["updated_at", "2015-11-30 20:31:37.491438"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.7ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "18"]]
  Rendered cart/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.5ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 15], ["created_at", "2015-11-30 20:31:37.576255"], ["updated_at", "2015-11-30 20:31:37.576255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 18], ["order_id", 5], ["created_at", "2015-11-30 20:31:37.579891"], ["updated_at", "2015-11-30 20:31:37.579891"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 15]]
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-nlycrp.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-1uwcw2z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-bilhns'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-1c06017'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2eo82e.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:37.705479"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:37.983977"], ["updated_at", "2015-11-30 20:31:37.983977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$f.nFxISo8Zw5Sm9MDzccNebaSZIjqqs3vTXp/lL2.zXpgMsFLa82K"], ["created_at", "2015-11-30 20:31:38.002524"], ["updated_at", "2015-11-30 20:31:38.002524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1k9ndnh.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-2isn5j'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-1sw3whr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-1i475tj'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-qmwshs.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:38.117867"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-11-30 20:31:38.405799"], ["updated_at", "2015-11-30 20:31:38.405799"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=19" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"19"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 19]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=20" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"20"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 20]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "19"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "20"]]
  Rendered cart/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bv7xu1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-1gj42nw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-lklp6s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-1te60s0'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-7dickr.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:38.593715"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:38.871289"], ["updated_at", "2015-11-30 20:31:38.871289"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/21" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 21]]
  Rendered stickers/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-y7zxzj.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-wbqwer'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-5gjw5u'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-1w1rutt'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yz11jm.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:39.003333"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:39.290004"], ["updated_at", "2015-11-30 20:31:39.290004"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/22" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 22]]
  Rendered stickers/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$OxrZ1DLoNcq6kiBF3vtTVOK9h8c0qPsitPrD0Snbo/D3JrhpIJqjO"], ["created_at", "2015-11-30 20:31:39.323788"], ["updated_at", "2015-11-30 20:31:39.323788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 17], ["created_at", "2015-11-30 20:31:39.352736"], ["updated_at", "2015-11-30 20:31:39.352736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 17]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.6ms)
Started GET "/orders/6" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrderSticker Load (0.3ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 6]]
  Rendered orders/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.391800"], ["updated_at", "2015-11-30 20:31:39.391800"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.399840"], ["updated_at", "2015-11-30 20:31:39.399840"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.404413"], ["updated_at", "2015-11-30 20:31:39.404413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 3) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1tm3edy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-1xkc4lz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-mkmxdu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-19dpd7f'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1rfx91t.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:39.526318"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:39.806527"], ["updated_at", "2015-11-30 20:31:39.806527"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1u98v6r.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-sz82ef'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-1ebes3q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-nibvnx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-czpuw1.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:39.931496"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-11-30 20:31:40.212463"], ["updated_at", "2015-11-30 20:31:40.212463"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=23" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"23"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 23]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=24" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"24"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 24]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "23"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "24"]]
  Rendered cart/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-15ymuer.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-1bweusk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-1xv9t1r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-kacysg'
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1owvoap.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:40.397551"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:40.670568"], ["updated_at", "2015-11-30 20:31:40.670568"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "25"]]
  Rendered cart/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms)
Started DELETE "/cart_stickers/25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-11-30 20:31:40.777624"], ["updated_at", "2015-11-30 20:31:40.777624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-11-30 20:31:40.781257"], ["updated_at", "2015-11-30 20:31:40.781257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-11gtoxb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-1gm9zkj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-1f1qcke'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-nn7r9w'
  [1m[35mSticker Exists (0.6ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1gute3l.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:40.896193"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 4], ["created_at", "2015-11-30 20:31:41.179807"], ["updated_at", "2015-11-30 20:31:41.179807"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-15zkx75.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-ewmhx5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-mj41po'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-2y2p0q'
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1hy60zr.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:41.314042"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 5], ["created_at", "2015-11-30 20:31:41.608360"], ["updated_at", "2015-11-30 20:31:41.608360"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.4ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "companies"]]
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 4]]
  Rendered categories/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.9ms)
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "products"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 5]]
  Rendered categories/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$ScevZzU056CmDi1PjmOfROkxDfgtOyplWtFOmtK/vNnWQyQlB1SE."], ["role", 1], ["created_at", "2015-11-30 20:31:41.705543"], ["updated_at", "2015-11-30 20:31:41.705543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1p8t4av.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-s0uqyj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-xxpwwf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-1btqr5t'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1w5ku4s.png'
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1srgege.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:41.860955"], ["created_at", "2015-11-30 20:31:42.132359"], ["updated_at", "2015-11-30 20:31:42.132359"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 397ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$MSiqrx.40qP.0u.n4jczzuRpSaaYmNRtmV0miUhclI3YyeSHr/VwW"], ["role", 1], ["created_at", "2015-11-30 20:31:42.173196"], ["updated_at", "2015-11-30 20:31:42.173196"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1dxe8dk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-ivz5a6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-1dk54ib'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-m1jffa'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-dbe5gs.png'
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1k0y6c7.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-11-30 20:31:42.359664"], ["created_at", "2015-11-30 20:31:42.637779"], ["updated_at", "2015-11-30 20:31:42.637779"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 428ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$l8dzCG1C.4bSaSxeKqTrm.6im/CiyKJlC1ZchVo.bncM5QNkl.vw."], ["role", 1], ["created_at", "2015-11-30 20:31:42.679344"], ["updated_at", "2015-11-30 20:31:42.679344"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-12uxvyv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-16ha0ct'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-4mqulr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-9t8juc'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 379ms (Views: 7.6ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$A8SSTJ6vlAlZb3z.8NyF6.k54oJehj3Wh/BK58sveoARXr..neQfS"], ["role", 1], ["created_at", "2015-11-30 20:31:43.123092"], ["updated_at", "2015-11-30 20:31:43.123092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "James"], ["password_digest", "$2a$04$EifosZvMhfsJSMyXFUhPMOGrUdE3nwYZrDcTT03FLP4.u9Vcy5362"], ["created_at", "2015-11-30 20:31:43.146552"], ["updated_at", "2015-11-30 20:31:43.146552"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-11-30 20:31:43.180558"], ["updated_at", "2015-11-30 20:31:43.180558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1nqiahl.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-m7lnf3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-hz9qbf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-1ibnb1l'
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-eovh14.png'
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:43.302859"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 6], ["created_at", "2015-11-30 20:31:43.582092"], ["updated_at", "2015-11-30 20:31:43.582092"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "geeky"]]
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 6]]
  Rendered categories/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.8ms)
Started GET "/stickers/30" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 30]]
  Rendered stickers/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$NrxV8JHSO7J4522Ze5P.4.oKebwBRPNAdqBTz3wARRtZSCjN5rX0y"], ["created_at", "2015-11-30 20:31:43.640130"], ["updated_at", "2015-11-30 20:31:43.640130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-p18gjz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-3u4zlf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-64hm8s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-120wgjx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-v5ue69.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:43.753762"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:44.034726"], ["updated_at", "2015-11-30 20:31:44.034726"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 23], ["created_at", "2015-11-30 20:31:44.055186"], ["updated_at", "2015-11-30 20:31:44.055186"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 7], ["sticker_id", 31], ["quantity", 1], ["created_at", "2015-11-30 20:31:44.057867"], ["updated_at", "2015-11-30 20:31:44.057867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.9ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 23]]
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms)
Started GET "/orders/7" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrderSticker Load (0.4ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 7]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 31]]
  Rendered orders/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1jgszf7.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-1efm831'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-1i0lek6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-sr7df7'
  [1m[35mSticker Exists (0.8ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bv2yi7.png'
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-10c8try.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-tfhy6l'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-1yha28e'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-6kkbpx'
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c7csmf.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ar7c7s.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-1wy1cal'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-1983pcc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-z5a124'
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ytltcg.png'
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$hVvNjAv5BoHsvtrXS21wDe5SFYhx5ZtVwzitVYIF7hQZQfjj4MNG2"], ["role", 1], ["created_at", "2015-11-30 20:31:45.371961"], ["updated_at", "2015-11-30 20:31:45.371961"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.3ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  Rendered users/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.3ms)
Started PATCH "/users/24" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"24"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 24) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$eu92/Kcwe2rsq5e60pOwdOTf5W2myxoXNC/d.UrDyElMBBwk9SMHG"], ["updated_at", "2015-11-30 20:31:45.453988"], ["id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$GjoskiFhkxw6OxESl9uBveMJkQ4AMUMCcqlIhGl/w.jdrv4zLvckK"], ["role", 1], ["created_at", "2015-11-30 20:31:45.476122"], ["updated_at", "2015-11-30 20:31:45.476122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 1.2ms)
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 25]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$xDBg/.9Qf9Mg7lB0rdufve3XayMO1NM.4k5ttQO5qCtfiN8yFNIZW"], ["role", 1], ["created_at", "2015-11-30 20:31:45.520900"], ["updated_at", "2015-11-30 20:31:45.520900"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "sekhar"], ["password_digest", "$2a$04$2OAKrSy4aDOtZB/mIfM5i.RwrMtpX239LhiV7Vi9eDi24q6Yi5s3S"], ["created_at", "2015-11-30 20:31:45.525162"], ["updated_at", "2015-11-30 20:31:45.525162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 27], ["created_at", "2015-11-30 20:31:45.529205"], ["updated_at", "2015-11-30 20:31:45.529205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 27], ["created_at", "2015-11-30 20:31:45.533145"], ["updated_at", "2015-11-30 20:31:45.533145"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 26], ["created_at", "2015-11-30 20:31:45.536873"], ["updated_at", "2015-11-30 20:31:45.536873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "cancelled"], ["user_id", 26], ["created_at", "2015-11-30 20:31:45.539514"], ["updated_at", "2015-11-30 20:31:45.539514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1iw6cdh.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-1og15jf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-17syi48'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-2p8hpj'
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1klxjqf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-jl4pny'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-t903bd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-1iik13l'
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$xEe.7WDRqqQ6vReNGbBGSekLkGbOjIcyEfd7IYJ6XUrnT19lk4qIK"], ["created_at", "2015-11-30 20:31:46.366647"], ["updated_at", "2015-11-30 20:31:46.366647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 28], ["created_at", "2015-11-30 20:31:46.370065"], ["updated_at", "2015-11-30 20:31:46.370065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$sJTS0mkYssikjUSoMRowLu79PA7LGwfP4mvii5BgKcmLK63lNr7Jy"], ["created_at", "2015-11-30 20:31:46.374432"], ["updated_at", "2015-11-30 20:31:46.374432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Cancelled"], ["user_id", 28], ["created_at", "2015-11-30 20:31:46.376776"], ["updated_at", "2015-11-30 20:31:46.376776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$/.Rdw1hLwk3OYXP8NRhHPOWUUpyabNfvnq0vqqO4aBXxAh7lXf3hy"], ["created_at", "2015-11-30 20:31:46.384548"], ["updated_at", "2015-11-30 20:31:46.384548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Paid"], ["user_id", 30], ["created_at", "2015-11-30 20:31:46.388023"], ["updated_at", "2015-11-30 20:31:46.388023"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$cOWI0DhTHry7zgHcuVrl8OQgHfXhlNX15L2GxRIRvXcY86gz9LxB."], ["created_at", "2015-11-30 20:31:46.393807"], ["updated_at", "2015-11-30 20:31:46.393807"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 30], ["created_at", "2015-11-30 20:31:46.398697"], ["updated_at", "2015-11-30 20:31:46.398697"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
