  [1m[36m (134.8ms)[0m  [1mDROP DATABASE IF EXISTS "sticker_shop_test"[0m
  [1m[35m (721.5ms)[0m  CREATE DATABASE "sticker_shop_test" ENCODING = 'unicode'
  [1m[36mSQL (2.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.6ms)[0m  CREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "slug" character varying) 
  [1m[36m (4.3ms)[0m  [1mCREATE TABLE "order_stickers" ("id" serial primary key, "quantity" integer, "order_id" integer, "sticker_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX  "index_order_stickers_on_order_id" ON "order_stickers" USING btree ("order_id")
  [1m[36m (6.0ms)[0m  [1mCREATE  INDEX  "index_order_stickers_on_sticker_id" ON "order_stickers" USING btree ("sticker_id")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "status" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")[0m
  [1m[35m (4.8ms)[0m  CREATE TABLE "stickers" ("id" serial primary key, "title" character varying, "image_url" character varying, "price" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "category_id" integer, "description" text, "retired" boolean DEFAULT 'f', "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp) 
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_stickers_on_category_id" ON "stickers" USING btree ("category_id")[0m
  [1m[35m (5.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "role" integer DEFAULT 0, "street_address" character varying, "city" character varying, "state" character varying, "zip" character varying) 
  [1m[36m (11.3ms)[0m  [1mALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_a163a7139d"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
[0m
  [1m[35m (8.7ms)[0m  ALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_64d393616e"
FOREIGN KEY ("sticker_id")
  REFERENCES "stickers" ("id")

  [1m[36m (4.7ms)[0m  [1mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (6.5ms)[0m  ALTER TABLE "stickers" ADD CONSTRAINT "fk_rails_9be81ac043"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")

  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (3.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151119162543')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151109233140')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110014522')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110014651')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110162749')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110222025')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151111025316')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151112021959')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114022109')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114184730')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114193643')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151115161330')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151116224156')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117153302')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117192957')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117203807')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151118202532')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151119020639')[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$87keBEkbDtcRFZiGmxB7Cu4xNHnc6AMjJsHAJckX4iEMjT/Ps1IJy"], ["created_at", "2015-11-30 20:31:22.132841"], ["updated_at", "2015-11-30 20:31:22.132841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:22 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (1.0ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 3185ms (Views: 3155.3ms | ActiveRecord: 2.2ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:25 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (372.6ms)
Completed 200 OK in 379ms (Views: 378.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 32ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.9ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 1], ["created_at", "2015-11-30 20:31:26.156390"], ["updated_at", "2015-11-30 20:31:26.156390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:26 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  Rendered orders/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-cw1suc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-1sx5bv5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-1jzawp4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mdfscp.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/428c25afd6be4ba51f29e7df55c90cd420151130-8906-v7eqdr'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mcwjrk.png'
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:26.321643"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:26.701872"], ["updated_at", "2015-11-30 20:31:26.701872"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-urbuck.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-kilsrg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-6we0zy'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-177lazi.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e2be007d8c367faf50e2a3656c16713c20151130-8906-2nociv'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-byq6qn.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:26.833850"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-11-30 20:31:27.109881"], ["updated_at", "2015-11-30 20:31:27.109881"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.8ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.8ms)
Started POST "/cart_stickers?sticker_id=1" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"1"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.6ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=2" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"2"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 2]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mSticker Load (0.7ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "2"]]
  Rendered cart/index.html.erb within layouts/application (48.9ms)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-y5g7o9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-1llh4vb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-18zqifi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-st91gd.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1704cad6c56bc8863cb4bec2da9e954020151130-8906-bw2xdy'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-pkcdfg.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:27.458927"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:27.727626"], ["updated_at", "2015-11-30 20:31:27.727626"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/3" for 127.0.0.1 at 2015-11-30 13:31:27 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 3]]
  Rendered stickers/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-tt2ltn.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-1k6eqqb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-kg537q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1hggrtr.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/08ebbf51034e8ca4b0587a9a5ef8317820151130-8906-g90gzn'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ygnmk.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:27.879295"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:28.173318"], ["updated_at", "2015-11-30 20:31:28.173318"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/4" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
  Rendered stickers/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1r9ioon.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-1k2qsgd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-18wyhdv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-29e6l5.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e09f1bd052369f2e5bfa458bf3bd25f20151130-8906-1oxa4mx'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1d8tf2l.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:28.330261"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:28.685432"], ["updated_at", "2015-11-30 20:31:28.685432"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=5" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"5"}
  [1m[35mSticker Load (0.8ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 5]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:28 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-43jz5h.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-1b528av'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-1nezhiq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1f2wr7k.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/683b468c1beaa035760322fd63dda2df20151130-8906-u34idx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wauhlx.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:28.864360"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:29.176971"], ["updated_at", "2015-11-30 20:31:29.176971"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/6" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 6]]
  Rendered stickers/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$CTBDDUOZUdm7RjZ0R5mlouVbl7gzamuIuDn3y8J3Na2zEvUSQ0J7C"], ["role", 1], ["created_at", "2015-11-30 20:31:29.217410"], ["updated_at", "2015-11-30 20:31:29.217410"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 22ms (Views: 17.3ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$UaVXBwfB2FkuNGjVOot/NOfdN76nASi6J3pDulZLnvXM0uOi2C2e6"], ["role", 1], ["created_at", "2015-11-30 20:31:29.295473"], ["updated_at", "2015-11-30 20:31:29.295473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 2.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
  Rendered admin/stickers/new.html.erb within layouts/application (14.2ms)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.5ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:29 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1verqpe.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-bdhaf2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-6eaul4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-pxxk2s.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a9d79452e356557b8cb2347a1cb1628f20151130-8906-12uvt6y'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-ggi0vy.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1mff1go.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-11-30 20:31:29.895239"], ["created_at", "2015-11-30 20:31:30.277764"], ["updated_at", "2015-11-30 20:31:30.277764"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 899ms (ActiveRecord: 7.2ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.9ms)
  [1m[35mSticker Load (0.6ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$GKrbAV7rcVqPcCKYsCtU.urzgRIU/hu.0m2DrYb6rd.lWYbFpxfyC"], ["role", 1], ["created_at", "2015-11-30 20:31:30.332914"], ["updated_at", "2015-11-30 20:31:30.332914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-sg1biz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-4fe8uv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-xnejah'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1r89htx.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/615303339dd3447e6089ea7ec903bb4920151130-8906-1xw7qaa'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-8o3oed.png'
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e1da32ae2104e3936596bd1035b1813820151130-8906-1rleo54.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-11-30 20:31:30.513268"], ["created_at", "2015-11-30 20:31:30.865031"], ["updated_at", "2015-11-30 20:31:30.865031"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 501ms (ActiveRecord: 3.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.7ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-48y9gr.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-hy0x1c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-1hjg4wd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2pq3fb.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9e57e0f1a9125286d51707375f191d7120151130-8906-vwfvys'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-kjadid.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:31.045061"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:31.321224"], ["updated_at", "2015-11-30 20:31:31.321224"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=9" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"9"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "9"]]
  Rendered cart/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/9?adjustment=increase" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"9"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 9]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "9"]]
  Rendered cart/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-aakxwd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-z56gdg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-v2x43f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-z7tsq7.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/f495c930e956c4e12a93d3c11b69892320151130-8906-nz6u1y'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-3h9vs8.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:31.507901"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:31.792332"], ["updated_at", "2015-11-30 20:31:31.792332"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=10" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=10" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "10"]]
  Rendered cart/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/10?adjustment=decrease" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"10"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:31 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "10"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-19e8d77.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-c3ki7i'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-16paxrp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1wg65vo.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/8e182531e04475015640a0df3758073c20151130-8906-3swgzn'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-3v3abg.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:32.040027"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:32.330322"], ["updated_at", "2015-11-30 20:31:32.330322"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=11" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"11"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 11]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "11"]]
  Rendered cart/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.7ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 38ms (Views: 37.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$KsgyLwn1hfYSisxvNjzUUeEEI/J5JB81vyNWJBminpWsbZWcpvnly"], ["created_at", "2015-11-30 20:31:32.479273"], ["updated_at", "2015-11-30 20:31:32.479273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 5]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 5]]
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$2R36DINF/M1kIZqMrCJHq.Q5j711SeqUDhWiiCo2VYjfTwm1N6iJW"], ["created_at", "2015-11-30 20:31:32.543230"], ["updated_at", "2015-11-30 20:31:32.543230"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Emily"], ["password_digest", "$2a$04$1mjPcxOOVUqv.LydB.1Ht.TNvlN9pXW7UOxPZWwvHIxy8BtsC/bai"], ["created_at", "2015-11-30 20:31:32.550296"], ["updated_at", "2015-11-30 20:31:32.550296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 6], ["created_at", "2015-11-30 20:31:32.553844"], ["updated_at", "2015-11-30 20:31:32.553844"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 7], ["created_at", "2015-11-30 20:31:32.556642"], ["updated_at", "2015-11-30 20:31:32.556642"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/orders/2" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrderSticker Load (0.8ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 2.6ms)
Started GET "/orders/3" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "beyonce"], ["password_digest", "$2a$04$L49v6K9GH5/SX398C7Q1seNdc/8RZBa5XFZmQxl6VEiaUqmgwLi2S"], ["role", 1], ["created_at", "2015-11-30 20:31:32.665015"], ["updated_at", "2015-11-30 20:31:32.665015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$89Zg/I/HY0hlvgX4enBtgORVUCJ04wh8gQFN5Is90TkRofnxhOACu"], ["role", 1], ["created_at", "2015-11-30 20:31:32.701444"], ["updated_at", "2015-11-30 20:31:32.701444"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.4ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:32 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-5irvf4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-1tw2wfl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-1hpk0ex'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-14p62x8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1d9e84c068aa9de34ce52a5c790543d520151130-8906-dap0ei'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-xgg1n.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1cvr3qv.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:32.877356"], ["created_at", "2015-11-30 20:31:33.158379"], ["updated_at", "2015-11-30 20:31:33.158379"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 427ms (ActiveRecord: 3.8ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.6ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 9]]
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/12/edit" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered admin/stickers/edit.html.erb within layouts/application (18.4ms)
Completed 200 OK in 25ms (Views: 23.1ms | ActiveRecord: 0.5ms)
Started PATCH "/stickers/12" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/012/original/uwgt.png?1448915492", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"12"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 12]]
Unpermitted parameters: category, image
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.6ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 12) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3[0m  [["retired", "t"], ["updated_at", "2015-11-30 20:31:33.253702"], ["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 12) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers/12/edit" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered admin/stickers/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$m.LTW8m/RQGYQdzDlN6pf.uJqvXZyGdLLlLRZwdJFuvxbYqCv4l3q"], ["role", 1], ["created_at", "2015-11-30 20:31:33.290610"], ["updated_at", "2015-11-30 20:31:33.290610"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 1.4ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:33 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-cscqcr.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-1hxnb70'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-1hsocc8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1sjvz6p.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3ddc49e60e708bff32f2ad8135c953bb20151130-8906-100kcrl'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-j72f0h.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-2w0nwq.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:34.474364"], ["created_at", "2015-11-30 20:31:34.747696"], ["updated_at", "2015-11-30 20:31:34.747696"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 1409ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35mSticker Load (0.6ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/13/edit" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 13]]
  Rendered admin/stickers/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms)
Started PATCH "/stickers/13" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/013/original/uwgt.png?1448915494", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"13"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 13]]
Unpermitted parameters: category, image
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 13) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-11-30 20:31:34.812997"], ["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 13) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:34 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$zH6lF9MNbrdWBYsVz65Oeug4ElLiopLr2miI12PZsuINTXdCGGpzy"], ["created_at", "2015-11-30 20:31:34.833447"], ["updated_at", "2015-11-30 20:31:34.833447"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-db453p.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-1uot0tt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-szpjqr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-13ywxft.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e357d0a40ca6663e01a7588c21f2f3ee20151130-8906-yrexic'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-wt628t.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:34.935895"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:35.215568"], ["updated_at", "2015-11-30 20:31:35.215568"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=14" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"14"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 14]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.8ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "14"]]
  Rendered cart/index.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.7ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started GET "/users/new" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$daXjO17Eig7jLRFXNRu5k.pGVx9B7DB7.jbetHrHJP1rvb2byEll2"], ["created_at", "2015-11-30 20:31:35.412693"], ["updated_at", "2015-11-30 20:31:35.412693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$OyUWHFtedzwl8tMesVqgJ.byXUQcM3pxxQKftr..ukiRuDRAfJBau"], ["created_at", "2015-11-30 20:31:35.438285"], ["updated_at", "2015-11-30 20:31:35.438285"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 13]]
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-f2w9eq.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-sbotnx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-1lgwjsc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16vhtv1.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/3a376f0fcc7f7367d3a50db68acbeb8520151130-8906-192971f'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1ba9im4.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:35.625268"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:35.910171"], ["updated_at", "2015-11-30 20:31:35.910171"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:35 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-24c0vw.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-1i4q5cc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-kfckjm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bzj6g8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b2241c558e5144b947264b4b4d6e92ee20151130-8906-1c22bvt'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-po10n2.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:36.057852"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:36.360191"], ["updated_at", "2015-11-30 20:31:36.360191"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$2VuPEcmefY/6izr6VJM9Uuy4.hRqW/GSHxKyebUnC3fj1tH1ZBhre"], ["created_at", "2015-11-30 20:31:36.382171"], ["updated_at", "2015-11-30 20:31:36.382171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=16" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"16"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 16]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=16" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"16"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 16]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.7ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "16"]]
  Rendered cart/index.html.erb within layouts/application (5.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.7ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 14], ["created_at", "2015-11-30 20:31:36.490163"], ["updated_at", "2015-11-30 20:31:36.490163"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 16], ["order_id", 4], ["created_at", "2015-11-30 20:31:36.493177"], ["updated_at", "2015-11-30 20:31:36.493177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 14]]
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-e08wx1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-1jbrlp7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-1agvnwp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-192pm5k.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/214788f07073a7b31ce18521bb7afd1320151130-8906-xnh7ef'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sxxh2b.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:36.669360"], ["price", "6.0"], ["created_at", "2015-11-30 20:31:36.966079"], ["updated_at", "2015-11-30 20:31:36.966079"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:36 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=17" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"17"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 17]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "17"]]
  Rendered cart/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14l6yhk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-1xy7t7s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-z5xl8w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2z56qa.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/b03335449a2bd6f8341c49520a9895d520151130-8906-1k14pcu'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1ipqzx4.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:37.140697"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:37.472021"], ["updated_at", "2015-11-30 20:31:37.472021"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$wsys91/eR490G0L1SIeXQuiNt3m2JyqaYa7m3tPo6Lt7Cp4a2YKTS"], ["created_at", "2015-11-30 20:31:37.491438"], ["updated_at", "2015-11-30 20:31:37.491438"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.7ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "18"]]
  Rendered cart/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.5ms)
Started POST "/checkout" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 15], ["created_at", "2015-11-30 20:31:37.576255"], ["updated_at", "2015-11-30 20:31:37.576255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 18], ["order_id", 5], ["created_at", "2015-11-30 20:31:37.579891"], ["updated_at", "2015-11-30 20:31:37.579891"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:37 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 15]]
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-nlycrp.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-1uwcw2z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-bilhns'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1kbsxfu.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/059eebda95295fec45c2aefbe09cf18820151130-8906-1c06017'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-2eo82e.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:37.705479"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:37.983977"], ["updated_at", "2015-11-30 20:31:37.983977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$f.nFxISo8Zw5Sm9MDzccNebaSZIjqqs3vTXp/lL2.zXpgMsFLa82K"], ["created_at", "2015-11-30 20:31:38.002524"], ["updated_at", "2015-11-30 20:31:38.002524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1k9ndnh.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-2isn5j'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-1sw3whr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-do499g.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/371d517c44b6d6f970cafb969e31229220151130-8906-1i475tj'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-qmwshs.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:38.117867"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-11-30 20:31:38.405799"], ["updated_at", "2015-11-30 20:31:38.405799"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=19" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"19"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 19]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=20" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"20"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 20]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "19"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "20"]]
  Rendered cart/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bv7xu1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-1gj42nw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-lklp6s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-16sx9r0.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/47adb21fd28c893e3aecf106a2f9af1420151130-8906-1te60s0'
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-7dickr.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:38.593715"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:38.871289"], ["updated_at", "2015-11-30 20:31:38.871289"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/21" for 127.0.0.1 at 2015-11-30 13:31:38 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 21]]
  Rendered stickers/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-y7zxzj.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-wbqwer'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-5gjw5u'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1sn54sy.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e888a15cd020975e5446bc2eac0ccd4d20151130-8906-1w1rutt'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yz11jm.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:39.003333"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-11-30 20:31:39.290004"], ["updated_at", "2015-11-30 20:31:39.290004"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/22" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 22]]
  Rendered stickers/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$OxrZ1DLoNcq6kiBF3vtTVOK9h8c0qPsitPrD0Snbo/D3JrhpIJqjO"], ["created_at", "2015-11-30 20:31:39.323788"], ["updated_at", "2015-11-30 20:31:39.323788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 17], ["created_at", "2015-11-30 20:31:39.352736"], ["updated_at", "2015-11-30 20:31:39.352736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 17]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.6ms)
Started GET "/orders/6" for 127.0.0.1 at 2015-11-30 13:31:39 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mOrderSticker Load (0.3ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 6]]
  Rendered orders/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.391800"], ["updated_at", "2015-11-30 20:31:39.391800"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.399840"], ["updated_at", "2015-11-30 20:31:39.399840"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-11-30 20:31:39.404413"], ["updated_at", "2015-11-30 20:31:39.404413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 3) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1tm3edy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-1xkc4lz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-mkmxdu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-i6ufdt.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/dae2e3c93833941a26aa003771ac11f720151130-8906-19dpd7f'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1rfx91t.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:39.526318"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:39.806527"], ["updated_at", "2015-11-30 20:31:39.806527"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1u98v6r.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-sz82ef'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-1ebes3q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-w12wmw.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d592c18bf1896b321c0dd2204b248fdd20151130-8906-nibvnx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-czpuw1.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:39.931496"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-11-30 20:31:40.212463"], ["updated_at", "2015-11-30 20:31:40.212463"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=23" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"23"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 23]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=24" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"24"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 24]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "23"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "24"]]
  Rendered cart/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-15ymuer.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-1bweusk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-1xv9t1r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1mr4uwq.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/6fdb301ed367a391d0941a183d099b5f20151130-8906-kacysg'
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1owvoap.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:40.397551"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:40.670568"], ["updated_at", "2015-11-30 20:31:40.670568"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "25"]]
  Rendered cart/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms)
Started DELETE "/cart_stickers/25" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"25"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-11-30 13:31:40 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-11-30 20:31:40.777624"], ["updated_at", "2015-11-30 20:31:40.777624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-11-30 20:31:40.781257"], ["updated_at", "2015-11-30 20:31:40.781257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-11gtoxb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-1gm9zkj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-1f1qcke'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-vyuuto.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/79d915235a5a696aa72190b4ac69c1c720151130-8906-nn7r9w'
  [1m[35mSticker Exists (0.6ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1gute3l.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:40.896193"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 4], ["created_at", "2015-11-30 20:31:41.179807"], ["updated_at", "2015-11-30 20:31:41.179807"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-15zkx75.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-ewmhx5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-mj41po'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-13r4sz0.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/253a6ebe0f61654ccfb427b3b5fba35320151130-8906-2y2p0q'
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/bfc36183ba253554e36d41c6dc626c5a20151130-8906-1hy60zr.png'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-11-30 20:31:41.314042"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 5], ["created_at", "2015-11-30 20:31:41.608360"], ["updated_at", "2015-11-30 20:31:41.608360"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.4ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "companies"]]
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 4]]
  Rendered categories/show.html.erb within layouts/application (7.8ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.9ms)
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.4ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "products"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 5]]
  Rendered categories/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$ScevZzU056CmDi1PjmOfROkxDfgtOyplWtFOmtK/vNnWQyQlB1SE."], ["role", 1], ["created_at", "2015-11-30 20:31:41.705543"], ["updated_at", "2015-11-30 20:31:41.705543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:41 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1p8t4av.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-s0uqyj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-xxpwwf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1v9bvux.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/e154e0c083ff40b0b88f3753b0da9d4320151130-8906-1btqr5t'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1w5ku4s.png'
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151130-8906-1srgege.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-11-30 20:31:41.860955"], ["created_at", "2015-11-30 20:31:42.132359"], ["updated_at", "2015-11-30 20:31:42.132359"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 397ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$MSiqrx.40qP.0u.n4jczzuRpSaaYmNRtmV0miUhclI3YyeSHr/VwW"], ["role", 1], ["created_at", "2015-11-30 20:31:42.173196"], ["updated_at", "2015-11-30 20:31:42.173196"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1dxe8dk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-ivz5a6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-1dk54ib'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1a2ym31.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/18a8cfad8383e6e1d6c92b56b4c20ed920151130-8906-m1jffa'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-dbe5gs.png'
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/a7fcde4315c530baf3ce5f4c4389947120151130-8906-1k0y6c7.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-11-30 20:31:42.359664"], ["created_at", "2015-11-30 20:31:42.637779"], ["updated_at", "2015-11-30 20:31:42.637779"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 428ms (ActiveRecord: 3.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$l8dzCG1C.4bSaSxeKqTrm.6im/CiyKJlC1ZchVo.bncM5QNkl.vw."], ["role", 1], ["created_at", "2015-11-30 20:31:42.679344"], ["updated_at", "2015-11-30 20:31:42.679344"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-11-30 13:31:42 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-12uxvyv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-16ha0ct'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-4mqulr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/7552266405a6dd9900d924919d9caa4b20151130-8906-gapocg.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/564e011da9f63f81507a1d081c3cc01c20151130-8906-9t8juc'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 379ms (Views: 7.6ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$A8SSTJ6vlAlZb3z.8NyF6.k54oJehj3Wh/BK58sveoARXr..neQfS"], ["role", 1], ["created_at", "2015-11-30 20:31:43.123092"], ["updated_at", "2015-11-30 20:31:43.123092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "James"], ["password_digest", "$2a$04$EifosZvMhfsJSMyXFUhPMOGrUdE3nwYZrDcTT03FLP4.u9Vcy5362"], ["created_at", "2015-11-30 20:31:43.146552"], ["updated_at", "2015-11-30 20:31:43.146552"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-11-30 20:31:43.180558"], ["updated_at", "2015-11-30 20:31:43.180558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1nqiahl.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-m7lnf3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-hz9qbf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1g93sgc.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/9afad12130f9f1f306ace7583808009020151130-8906-1ibnb1l'
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-eovh14.png'
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:43.302859"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 6], ["created_at", "2015-11-30 20:31:43.582092"], ["updated_at", "2015-11-30 20:31:43.582092"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.5ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "geeky"]]
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 6]]
  Rendered categories/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.8ms)
Started GET "/stickers/30" for 127.0.0.1 at 2015-11-30 13:31:43 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 30]]
  Rendered stickers/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$NrxV8JHSO7J4522Ze5P.4.oKebwBRPNAdqBTz3wARRtZSCjN5rX0y"], ["created_at", "2015-11-30 20:31:43.640130"], ["updated_at", "2015-11-30 20:31:43.640130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-p18gjz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-3u4zlf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-64hm8s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-14piy4q.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/32b30f111a569506afbeae2ab75d7d7320151130-8906-120wgjx'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-v5ue69.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-11-30 20:31:43.753762"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-11-30 20:31:44.034726"], ["updated_at", "2015-11-30 20:31:44.034726"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 23], ["created_at", "2015-11-30 20:31:44.055186"], ["updated_at", "2015-11-30 20:31:44.055186"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 7], ["sticker_id", 31], ["quantity", 1], ["created_at", "2015-11-30 20:31:44.057867"], ["updated_at", "2015-11-30 20:31:44.057867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.9ms)
Started GET "/orders" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 23]]
  Rendered orders/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms)
Started GET "/orders/7" for 127.0.0.1 at 2015-11-30 13:31:44 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mOrderSticker Load (0.4ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 7]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 31]]
  Rendered orders/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1jgszf7.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-1efm831'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-1i0lek6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-clqhtp.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d1559abccead5526c6419fa61c92a0f920151130-8906-sr7df7'
  [1m[35mSticker Exists (0.8ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-bv2yi7.png'
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-10c8try.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-tfhy6l'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-1yha28e'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-162odxu.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/4dafd50034859be74c7047fe9e8c2a7720151130-8906-6kkbpx'
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c7csmf.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ar7c7s.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-1wy1cal'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-1983pcc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-rz0cm2.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/69b3fdb70dcd59486a9dab13b84adb5d20151130-8906-z5a124'
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-ytltcg.png'
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$hVvNjAv5BoHsvtrXS21wDe5SFYhx5ZtVwzitVYIF7hQZQfjj4MNG2"], ["role", 1], ["created_at", "2015-11-30 20:31:45.371961"], ["updated_at", "2015-11-30 20:31:45.371961"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.3ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  Rendered users/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.3ms)
Started PATCH "/users/24" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"24"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 24) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$eu92/Kcwe2rsq5e60pOwdOTf5W2myxoXNC/d.UrDyElMBBwk9SMHG"], ["updated_at", "2015-11-30 20:31:45.453988"], ["id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$GjoskiFhkxw6OxESl9uBveMJkQ4AMUMCcqlIhGl/w.jdrv4zLvckK"], ["role", 1], ["created_at", "2015-11-30 20:31:45.476122"], ["updated_at", "2015-11-30 20:31:45.476122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 1.2ms)
Started GET "/users" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 25]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$xDBg/.9Qf9Mg7lB0rdufve3XayMO1NM.4k5ttQO5qCtfiN8yFNIZW"], ["role", 1], ["created_at", "2015-11-30 20:31:45.520900"], ["updated_at", "2015-11-30 20:31:45.520900"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "sekhar"], ["password_digest", "$2a$04$2OAKrSy4aDOtZB/mIfM5i.RwrMtpX239LhiV7Vi9eDi24q6Yi5s3S"], ["created_at", "2015-11-30 20:31:45.525162"], ["updated_at", "2015-11-30 20:31:45.525162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 27], ["created_at", "2015-11-30 20:31:45.529205"], ["updated_at", "2015-11-30 20:31:45.529205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 27], ["created_at", "2015-11-30 20:31:45.533145"], ["updated_at", "2015-11-30 20:31:45.533145"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 26], ["created_at", "2015-11-30 20:31:45.536873"], ["updated_at", "2015-11-30 20:31:45.536873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "cancelled"], ["user_id", 26], ["created_at", "2015-11-30 20:31:45.539514"], ["updated_at", "2015-11-30 20:31:45.539514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-11-30 13:31:45 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1iw6cdh.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-1og15jf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-17syi48'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1yo14en.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/2b0b249c839da1d074b7f26c8f1a529420151130-8906-2p8hpj'
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-1klxjqf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "100x100>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-jl4pny'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-t903bd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]'
Command :: convert '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/671a0da0ba061c98de801409dbc57d7e20151130-8906-c63nf8.png[0]' -auto-orient -resize "300x300>" '/var/folders/ts/_glgt5bd2kj0xqnvxd0g_hx80000gn/T/d12809fdf318ce38ccf062fe7203926520151130-8906-1iik13l'
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$xEe.7WDRqqQ6vReNGbBGSekLkGbOjIcyEfd7IYJ6XUrnT19lk4qIK"], ["created_at", "2015-11-30 20:31:46.366647"], ["updated_at", "2015-11-30 20:31:46.366647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 28], ["created_at", "2015-11-30 20:31:46.370065"], ["updated_at", "2015-11-30 20:31:46.370065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$sJTS0mkYssikjUSoMRowLu79PA7LGwfP4mvii5BgKcmLK63lNr7Jy"], ["created_at", "2015-11-30 20:31:46.374432"], ["updated_at", "2015-11-30 20:31:46.374432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Cancelled"], ["user_id", 28], ["created_at", "2015-11-30 20:31:46.376776"], ["updated_at", "2015-11-30 20:31:46.376776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$/.Rdw1hLwk3OYXP8NRhHPOWUUpyabNfvnq0vqqO4aBXxAh7lXf3hy"], ["created_at", "2015-11-30 20:31:46.384548"], ["updated_at", "2015-11-30 20:31:46.384548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Paid"], ["user_id", 30], ["created_at", "2015-11-30 20:31:46.388023"], ["updated_at", "2015-11-30 20:31:46.388023"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$cOWI0DhTHry7zgHcuVrl8OQgHfXhlNX15L2GxRIRvXcY86gz9LxB."], ["created_at", "2015-11-30 20:31:46.393807"], ["updated_at", "2015-11-30 20:31:46.393807"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 30], ["created_at", "2015-11-30 20:31:46.398697"], ["updated_at", "2015-11-30 20:31:46.398697"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (110.0ms)[0m  [1mDROP DATABASE IF EXISTS "sticker_shop_test"[0m
  [1m[35m (238.4ms)[0m  CREATE DATABASE "sticker_shop_test" ENCODING = 'unicode'
  [1m[36mSQL (1.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.9ms)[0m  CREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "slug" character varying) 
  [1m[36m (4.4ms)[0m  [1mCREATE TABLE "order_stickers" ("id" serial primary key, "quantity" integer, "order_id" integer, "sticker_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (3.7ms)[0m  CREATE  INDEX  "index_order_stickers_on_order_id" ON "order_stickers" USING btree ("order_id")
  [1m[36m (1.4ms)[0m  [1mCREATE  INDEX  "index_order_stickers_on_sticker_id" ON "order_stickers" USING btree ("sticker_id")[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "status" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "stickers" ("id" serial primary key, "title" character varying, "image_url" character varying, "price" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "category_id" integer, "description" text, "retired" boolean DEFAULT 'f', "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX  "index_stickers_on_category_id" ON "stickers" USING btree ("category_id")[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE "users" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "role" integer DEFAULT 0, "street_address" character varying, "city" character varying, "state" character varying, "zip" character varying) 
  [1m[36m (3.8ms)[0m  [1mALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_a163a7139d"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
[0m
  [1m[35m (2.7ms)[0m  ALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_64d393616e"
FOREIGN KEY ("sticker_id")
  REFERENCES "stickers" ("id")

  [1m[36m (2.6ms)[0m  [1mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "stickers" ADD CONSTRAINT "fk_rails_9be81ac043"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")

  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151119162543')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151109233140')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110014522')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110014651')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110162749')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110222025')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151111025316')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151112021959')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114022109')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114184730')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114193643')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151115161330')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151116224156')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117153302')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117192957')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117203807')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151118202532')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151119020639')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-oapjdc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/122c37308cdbaddf28d8d5349a8dec7020151201-1256-iu7qdi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/122c37308cdbaddf28d8d5349a8dec7020151201-1256-15rzms4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1qfddu3.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/122c37308cdbaddf28d8d5349a8dec7020151201-1256-md39pv'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jokhpz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bd8aeeadd358d43f346d5f12debf347d20151201-1256-jaabei'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bd8aeeadd358d43f346d5f12debf347d20151201-1256-tku337'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-jsq4vp.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bd8aeeadd358d43f346d5f12debf347d20151201-1256-96g25q'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$kcZzq9fVrYqKuvrqd/r7N.kEBUgyetblVl5IFMrpgDNo1FWqiC62O"], ["role", 1], ["created_at", "2015-12-01 20:13:06.611574"], ["updated_at", "2015-12-01 20:13:06.611574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:06 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (281.5ms)
Completed 200 OK in 1497ms (Views: 1485.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:08 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:08 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 16ms (Views: 9.3ms | ActiveRecord: 2.7ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:08 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered admin/stickers/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:08 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-112wi1d.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c411f2937edb332578d9716a6fd3d3d20151201-1256-1c6htqh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c411f2937edb332578d9716a6fd3d3d20151201-1256-1hdmb5d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-qyt8xa.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c411f2937edb332578d9716a6fd3d3d20151201-1256-1jmk7i5'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-1flvdnw.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-127wtty.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 20:13:08.748503"], ["created_at", "2015-12-01 20:13:08.987696"], ["updated_at", "2015-12-01 20:13:08.987696"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 748ms (ActiveRecord: 4.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$moIJlbUcT8ripNZN6B6fQe7wk1jNR0Si0eV36nPblblyLlAgJL9jK"], ["role", 1], ["created_at", "2015-12-01 20:13:09.042461"], ["updated_at", "2015-12-01 20:13:09.042461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-1138eh5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0e0f8350a250245535a0e43b54568c5820151201-1256-1pfrn6s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0e0f8350a250245535a0e43b54568c5820151201-1256-fbb62l'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-3n0p7v.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0e0f8350a250245535a0e43b54568c5820151201-1256-uabd8b'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-1hugp6g.png'
  [1m[35mCategory Exists (0.9ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1256-1uds7us.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 20:13:09.231411"], ["created_at", "2015-12-01 20:13:09.481177"], ["updated_at", "2015-12-01 20:13:09.481177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 403ms (ActiveRecord: 3.3ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.6ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-4w04i9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/347fb437b0793b0ec21bb4c0ddd36a0220151201-1256-3rn8yr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/347fb437b0793b0ec21bb4c0ddd36a0220151201-1256-1p9e5oj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1g8ebqv.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/347fb437b0793b0ec21bb4c0ddd36a0220151201-1256-118yu4v'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16zvthb.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:09.636126"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:09.831425"], ["updated_at", "2015-12-01 20:13:09.831425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:09 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$oynJ8XKxqY24gjjx/.jkX.NFCpNJb/cE8Py8bfn4Ih5wVWbqt2Po6"], ["created_at", "2015-12-01 20:13:09.878584"], ["updated_at", "2015-12-01 20:13:09.878584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 3], ["created_at", "2015-12-01 20:13:09.882693"], ["updated_at", "2015-12-01 20:13:09.882693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$fl0Emgv8hW25.q8GpOn4D.Sx/8ydpy37sAY2RRRCpWGoCNDFn73Wi"], ["created_at", "2015-12-01 20:13:09.887988"], ["updated_at", "2015-12-01 20:13:09.887988"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Cancelled"], ["user_id", 3], ["created_at", "2015-12-01 20:13:09.890472"], ["updated_at", "2015-12-01 20:13:09.890472"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$Lx0WIpvaqEjAazHFUTpJYOdDmbOsaEnd4zSV/n7R.QpCp1f/Wbjje"], ["created_at", "2015-12-01 20:13:09.895318"], ["updated_at", "2015-12-01 20:13:09.895318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Paid"], ["user_id", 5], ["created_at", "2015-12-01 20:13:09.898368"], ["updated_at", "2015-12-01 20:13:09.898368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$gG86g1HpbWN5zMKr25PftOfTE0OL47SGdk4U8vF3oSemQmNZh7SOu"], ["created_at", "2015-12-01 20:13:09.902786"], ["updated_at", "2015-12-01 20:13:09.902786"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 5], ["created_at", "2015-12-01 20:13:09.907446"], ["updated_at", "2015-12-01 20:13:09.907446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1jzm5w8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d33de73df3177f02bfe04e40866a6a2120151201-1256-9ijm0m'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d33de73df3177f02bfe04e40866a6a2120151201-1256-1hjgao0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cqptrb.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d33de73df3177f02bfe04e40866a6a2120151201-1256-14v1je5'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1u72u1t.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:10.007397"], ["price", "6.0"], ["created_at", "2015-12-01 20:13:10.196277"], ["updated_at", "2015-12-01 20:13:10.196277"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=4" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"4"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=4" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"4"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "4"]]
  Rendered cart/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.4ms)
Started PATCH "/cart_stickers/4?adjustment=decrease" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"4"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 4]]
Redirected to http://www.example.com/cart
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "4"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10jkswf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a21bdbafeb1a704d261ea1233356132e20151201-1256-1ce3xa8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a21bdbafeb1a704d261ea1233356132e20151201-1256-132fvcw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gjwsjo.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a21bdbafeb1a704d261ea1233356132e20151201-1256-6z6nln'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-ox92ft.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:10.458415"], ["price", "6.0"], ["created_at", "2015-12-01 20:13:10.648416"], ["updated_at", "2015-12-01 20:13:10.648416"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=5" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"5"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 5]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "5"]]
  Rendered cart/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms)
Started PATCH "/cart_stickers/5?adjustment=increase" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"5"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 5]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:10 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "5"]]
  Rendered cart/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-cuk7tp.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f9337e94f58b4238b80d468e6786d93e20151201-1256-1wumndo'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f9337e94f58b4238b80d468e6786d93e20151201-1256-rtnoyb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-w11ml9.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f9337e94f58b4238b80d468e6786d93e20151201-1256-10rmkj0'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1twugze.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:10.868722"], ["price", "6.0"], ["created_at", "2015-12-01 20:13:11.062276"], ["updated_at", "2015-12-01 20:13:11.062276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$yEiaiba/deb1PBHKTHHqzeQ89a0YHyJXwzri27htR8sbgIkTgne1y"], ["created_at", "2015-12-01 20:13:11.090341"], ["updated_at", "2015-12-01 20:13:11.090341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=6" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"6"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 6]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=6" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"6"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 6]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "6"]]
  Rendered cart/index.html.erb within layouts/application (4.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by OrdersController#create as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 7], ["created_at", "2015-12-01 20:13:11.186619"], ["updated_at", "2015-12-01 20:13:11.186619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["sticker_id", 6], ["order_id", 5], ["created_at", "2015-12-01 20:13:11.194814"], ["updated_at", "2015-12-01 20:13:11.194814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 7]]
  Rendered orders/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-dvvca7.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d85ee66d433afc60ea6d2973c0746f2d20151201-1256-1x9xgt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d85ee66d433afc60ea6d2973c0746f2d20151201-1256-1esa5in'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zr4l8f.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d85ee66d433afc60ea6d2973c0746f2d20151201-1256-f0oxp0'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-bbup9m.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:11.346004"], ["price", "6.0"], ["created_at", "2015-12-01 20:13:11.539343"], ["updated_at", "2015-12-01 20:13:11.539343"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=7" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"7"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 7]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "7"]]
  Rendered cart/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$AKN4AsrusjFgA1n9S62spe9jdJ0NnMacUo5DGkxaJ0cx66QN9g8DO"], ["role", 1], ["created_at", "2015-12-01 20:13:11.610845"], ["updated_at", "2015-12-01 20:13:11.610845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-qxin5v.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/908045e406a5e81b4c3322876af3d15520151201-1256-17wy9l9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/908045e406a5e81b4c3322876af3d15520151201-1256-e2xuag'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1h326qs.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/908045e406a5e81b4c3322876af3d15520151201-1256-1v4bfxy'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-8fts0j.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:11.766158"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:11.960848"], ["updated_at", "2015-12-01 20:13:11.960848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/8" for 127.0.0.1 at 2015-12-01 13:13:11 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 8]]
  Rendered stickers/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1iy15yu.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f07698add0e1a97c723dc30cbc35f51120151201-1256-n07roq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f07698add0e1a97c723dc30cbc35f51120151201-1256-1jjfw9v'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1gzfh7i.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f07698add0e1a97c723dc30cbc35f51120151201-1256-afcyqm'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-17tfn4a.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:12.111876"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:12.303625"], ["updated_at", "2015-12-01 20:13:12.303625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/9" for 127.0.0.1 at 2015-12-01 13:13:12 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 9]]
  Rendered stickers/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-ogmtag.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a0863ac424c1d21f0f2b63c291a5814420151201-1256-1dmyg61'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a0863ac424c1d21f0f2b63c291a5814420151201-1256-1mb31zs'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1beheb1.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a0863ac424c1d21f0f2b63c291a5814420151201-1256-1rj69jr'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-p4r3qt.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:12.455217"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:12.641108"], ["updated_at", "2015-12-01 20:13:12.641108"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/10" for 127.0.0.1 at 2015-12-01 13:13:12 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 10]]
  Rendered stickers/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nryhk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d99542f333292f72e15036c55ad7f18720151201-1256-q79090'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d99542f333292f72e15036c55ad7f18720151201-1256-k32jrh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2je9j3.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d99542f333292f72e15036c55ad7f18720151201-1256-p1py4x'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-r4a2o.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:12.792419"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:12.987089"], ["updated_at", "2015-12-01 20:13:12.987089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:13 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=11" for 127.0.0.1 at 2015-12-01 13:13:13 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"11"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 11]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:13 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-zzze1y.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c106a43c2136598841fdb012904726620151201-1256-qje8ly'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c106a43c2136598841fdb012904726620151201-1256-1csfb1j'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3u5io7.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8c106a43c2136598841fdb012904726620151201-1256-xjnbob'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fgwy0g.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:14.251892"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:14.440757"], ["updated_at", "2015-12-01 20:13:14.440757"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1qvzeo6.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/96076f67a15d1ffba0ee0b022eb34bfd20151201-1256-dxuk3f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/96076f67a15d1ffba0ee0b022eb34bfd20151201-1256-16o8nb5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-cp30az.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/96076f67a15d1ffba0ee0b022eb34bfd20151201-1256-1an4nna'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-eokre7.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:13:14.559537"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 20:13:14.748488"], ["updated_at", "2015-12-01 20:13:14.748488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=12" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"12"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=13" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"13"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 13]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "12"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "13"]]
  Rendered cart/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$SStxp8KMej1LYnfQKhmEP.W4ete6eXDmPrVOCnayMqIFib0Jl1Zda"], ["created_at", "2015-12-01 20:13:14.829484"], ["updated_at", "2015-12-01 20:13:14.829484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 9], ["created_at", "2015-12-01 20:13:14.863044"], ["updated_at", "2015-12-01 20:13:14.863044"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 9]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$mBD1NdJs6atGe/2OEW4ez.5jcHzQO4tZZp2kWisO/U85MKYsVYoO6"], ["role", 1], ["created_at", "2015-12-01 20:13:14.883022"], ["updated_at", "2015-12-01 20:13:14.883022"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:14 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1mr81zv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e208688dba2ade27f98564ca34782d4820151201-1256-1fepekx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e208688dba2ade27f98564ca34782d4820151201-1256-117gg0v'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1bup820.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e208688dba2ade27f98564ca34782d4820151201-1256-1pbu9v1'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1kxlpl0.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-py4lkg.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:13:15.120653"], ["created_at", "2015-12-01 20:13:15.298190"], ["updated_at", "2015-12-01 20:13:15.298190"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 383ms (ActiveRecord: 2.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 10]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers/14/edit" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 14]]
  Rendered admin/stickers/edit.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.3ms)
Started PATCH "/stickers/14" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/014/original/uwgt.png?1449000795", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"14"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 14]]
Unpermitted parameters: category, image
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 14) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3[0m  [["retired", "t"], ["updated_at", "2015-12-01 20:13:15.361512"], ["id", 14]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 14) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms)
Started GET "/admin/stickers/14/edit" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 14]]
  Rendered admin/stickers/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$nt0fj/uGGmJHsxPG/49XX.S0Vuk9dcNT6zO6iVLQst7QBSCroRZk6"], ["role", 1], ["created_at", "2015-12-01 20:13:15.390252"], ["updated_at", "2015-12-01 20:13:15.390252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1vzfylx.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be3bdaf3aa35a383bfabb6b0fb94af6f20151201-1256-1vdur3w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be3bdaf3aa35a383bfabb6b0fb94af6f20151201-1256-5klbtj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-trl3fx.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be3bdaf3aa35a383bfabb6b0fb94af6f20151201-1256-mugi30'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1e9a57d.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-ltkgso.png'
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:13:15.542889"], ["created_at", "2015-12-01 20:13:15.721795"], ["updated_at", "2015-12-01 20:13:15.721795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 308ms (ActiveRecord: 3.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/15/edit" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 15]]
  Rendered admin/stickers/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms)
Started PATCH "/stickers/15" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/015/original/uwgt.png?1449000795", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"15"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 15]]
Unpermitted parameters: category, image
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 15) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-12-01 20:13:15.780251"], ["id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 15) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$POjrwCiHuxxj9iYwgjhlCenmBkXXXdaMroJg5I0FZg5vzDMTm/t6q"], ["role", 1], ["created_at", "2015-12-01 20:13:15.796753"], ["updated_at", "2015-12-01 20:13:15.796753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 12]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered users/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.2ms)
Started PATCH "/users/12" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"12"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 12) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$BvsM9EFvd/UUHJifBoHCO.LMSeg4XQgp7hhxOd9PCA82CeuVclQEC"], ["updated_at", "2015-12-01 20:13:15.857694"], ["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 12]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$wG6SD2YC5lLN9WeqtAw4v.tVIO0dO50N0zMHt3jyr6GyXzn73Zpvy"], ["role", 1], ["created_at", "2015-12-01 20:13:15.872252"], ["updated_at", "2015-12-01 20:13:15.872252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.8ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 13]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 13:13:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 13]]
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1v05gm8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aeb89c7a7055528caf7c1e9750de638720151201-1256-2v3y3y'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aeb89c7a7055528caf7c1e9750de638720151201-1256-14zd6os'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-176szvd.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aeb89c7a7055528caf7c1e9750de638720151201-1256-6u8xc5'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-apv55f.png'
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:16.033899"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:16.222427"], ["updated_at", "2015-12-01 20:13:16.222427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1dho866.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/61e27a9250351cbf7d8704fe6be729de20151201-1256-14du3mi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/61e27a9250351cbf7d8704fe6be729de20151201-1256-1w9wojp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-8ktyzs.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/61e27a9250351cbf7d8704fe6be729de20151201-1256-157b4yl'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1edggkv.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:13:16.347397"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 20:13:16.542210"], ["updated_at", "2015-12-01 20:13:16.542210"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=16" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"16"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 16]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=17" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"17"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 17]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "16"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "17"]]
  Rendered cart/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-khw8qw.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f91a9c7eeb402162490f2c7eb8334d120151201-1256-1rr01uw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f91a9c7eeb402162490f2c7eb8334d120151201-1256-1hmycro'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-g5yrl6.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f91a9c7eeb402162490f2c7eb8334d120151201-1256-1efizt8'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2bblbx.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:16.714320"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:16.903002"], ["updated_at", "2015-12-01 20:13:16.903002"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=18" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"18"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "18"]]
  Rendered cart/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.3ms)
Started DELETE "/cart_stickers/18" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"18"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 18]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$NAjiqS48QJhUlDg9fiqoeeMjnAIStbkvHnPxCEt022yEOD7lcfyVi"], ["created_at", "2015-12-01 20:13:16.986734"], ["updated_at", "2015-12-01 20:13:16.986734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Emily"], ["password_digest", "$2a$04$4jlSHA3OimelFVo78ME6Q.rYq1Zp0eAoSjTNOMmEaLqu.mFv/mnHa"], ["created_at", "2015-12-01 20:13:16.990552"], ["updated_at", "2015-12-01 20:13:16.990552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 14], ["created_at", "2015-12-01 20:13:16.992983"], ["updated_at", "2015-12-01 20:13:16.992983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 15], ["created_at", "2015-12-01 20:13:16.994978"], ["updated_at", "2015-12-01 20:13:16.994978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 14]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started GET "/orders/7" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mOrderSticker Load (0.4ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.8ms)
Started GET "/orders/8" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 14]]
  Rendered orders/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "beyonce"], ["password_digest", "$2a$04$Hn/TWI1Sqt9viryZKwkkduedESUoVXU1speAknIvHPEfOplGpoBvS"], ["role", 1], ["created_at", "2015-12-01 20:13:17.080849"], ["updated_at", "2015-12-01 20:13:17.080849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-01 20:13:17.088266"], ["updated_at", "2015-12-01 20:13:17.088266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1kqub26.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a53b0c76e61c071675b3868f48ca29d20151201-1256-1wehpso'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a53b0c76e61c071675b3868f48ca29d20151201-1256-1whf16c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1sysrj5.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a53b0c76e61c071675b3868f48ca29d20151201-1256-11g2gy6'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iwzqr1.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:17.275079"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 1], ["created_at", "2015-12-01 20:13:17.466503"], ["updated_at", "2015-12-01 20:13:17.466503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "geeky"]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 1]]
  Rendered categories/show.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.5ms)
Started GET "/stickers/19" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 19]]
  Rendered stickers/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$kk4TsCFPoSYYbd/NYba6QuOhPEzmucP5cuKhOFFxRMTLrdN9C0FzO"], ["created_at", "2015-12-01 20:13:17.532437"], ["updated_at", "2015-12-01 20:13:17.532437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 17]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 17]]
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  Rendered public/404.html within layouts/application (0.5ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iuw2ox.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e62320a71b57844180785a9f10eab7b020151201-1256-15ycr71'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e62320a71b57844180785a9f10eab7b020151201-1256-1b8zbj2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-u0qhdb.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e62320a71b57844180785a9f10eab7b020151201-1256-z575em'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-17s0q3b.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:17.740182"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:17.933867"], ["updated_at", "2015-12-01 20:13:17.933867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=20" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"20"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 20]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "20"]]
  Rendered cart/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rmfiei.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7d19e9a9c9a13445dc379e77d100c06420151201-1256-14l4kwm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7d19e9a9c9a13445dc379e77d100c06420151201-1256-qxvlln'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-nvh7jk.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7d19e9a9c9a13445dc379e77d100c06420151201-1256-93599s'
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kh8znv.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-ccno98.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5856377424246002800b7f0e29ec5a120151201-1256-13ng6k3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5856377424246002800b7f0e29ec5a120151201-1256-12x6z1d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10p9bif.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5856377424246002800b7f0e29ec5a120151201-1256-5gk0f0'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-njpfsp.png'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-sxnk3l.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/988cb0842f9b9194d79ae3772ccf850920151201-1256-1x8zjaq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/988cb0842f9b9194d79ae3772ccf850920151201-1256-1e1f3sl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-kny9vs.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/988cb0842f9b9194d79ae3772ccf850920151201-1256-1twq340'
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-a9y0kh.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$QJXbIMSdz.GtR2xEksAq9u8HjgwiVcCBeEnxQlQI8gIuwpTz.jal6"], ["role", 1], ["created_at", "2015-12-01 20:13:18.918383"], ["updated_at", "2015-12-01 20:13:18.918383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:18 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:18 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:18 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.1ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:18 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.4ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:18 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1lnbku1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/63f3f1be15e0102322e7e123dc7294e620151201-1256-w0eqrk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/63f3f1be15e0102322e7e123dc7294e620151201-1256-159lf82'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-1pvtrkq.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/63f3f1be15e0102322e7e123dc7294e620151201-1256-15xqt9a'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-kxwf4.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1256-16cud2c.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:13:19.088451"], ["created_at", "2015-12-01 20:13:19.260942"], ["updated_at", "2015-12-01 20:13:19.260942"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 322ms (ActiveRecord: 2.4ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$mZiNiRlp4G2XYiFgbaB4.OaEEdSfOHTXdZRtKtj8Ll66Yarzvc2/C"], ["role", 1], ["created_at", "2015-12-01 20:13:19.301180"], ["updated_at", "2015-12-01 20:13:19.301180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-mid0qr.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be56cefded02464b17a1484651739ee720151201-1256-kxss49'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be56cefded02464b17a1484651739ee720151201-1256-2e4kzb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1256-1ys1kff.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/be56cefded02464b17a1484651739ee720151201-1256-1efxgwz'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 305ms (Views: 10.4ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$i2wTUTEzTcmfhZ8FAPDBwO7/ynLSAdYy5L8BB4cPV9DZAaRTdKYwi"], ["role", 1], ["created_at", "2015-12-01 20:13:19.671974"], ["updated_at", "2015-12-01 20:13:19.671974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.6ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:13:19 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1icp042.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/345b9877e81ca4efa1fb36b19f82ecfd20151201-1256-1phfzrj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/345b9877e81ca4efa1fb36b19f82ecfd20151201-1256-xb2djg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-1o21p7v.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/345b9877e81ca4efa1fb36b19f82ecfd20151201-1256-t9cxxk'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-16rb8wo.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1256-fgvx9b.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-12-01 20:13:19.847554"], ["created_at", "2015-12-01 20:13:20.044087"], ["updated_at", "2015-12-01 20:13:20.044087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 330ms (ActiveRecord: 2.4ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$iQ18jl50vtNvr82oHBohmupl2jblR2bQSdZRRermw2a7HJbYCqoKe"], ["role", 1], ["created_at", "2015-12-01 20:13:20.078982"], ["updated_at", "2015-12-01 20:13:20.078982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "sekhar"], ["password_digest", "$2a$04$M6WmccJFU7zAxkQ/kkPrKuSp.mwqMnFlQ4ESvsxXk8VA1JhLbqnL6"], ["created_at", "2015-12-01 20:13:20.083760"], ["updated_at", "2015-12-01 20:13:20.083760"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 22], ["created_at", "2015-12-01 20:13:20.087052"], ["updated_at", "2015-12-01 20:13:20.087052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 22], ["created_at", "2015-12-01 20:13:20.089489"], ["updated_at", "2015-12-01 20:13:20.089489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 21], ["created_at", "2015-12-01 20:13:20.092817"], ["updated_at", "2015-12-01 20:13:20.092817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "cancelled"], ["user_id", 21], ["created_at", "2015-12-01 20:13:20.095049"], ["updated_at", "2015-12-01 20:13:20.095049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-01 20:13:20.145421"], ["updated_at", "2015-12-01 20:13:20.145421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-01 20:13:20.147681"], ["updated_at", "2015-12-01 20:13:20.147681"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1ov7zmx.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ab48c789cd8c5673a62fb126356fefaa20151201-1256-1rbjfzf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ab48c789cd8c5673a62fb126356fefaa20151201-1256-4pjylr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1n75mta.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ab48c789cd8c5673a62fb126356fefaa20151201-1256-p9x4ah'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1hgq5b3.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:20.251019"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 2], ["created_at", "2015-12-01 20:13:20.441357"], ["updated_at", "2015-12-01 20:13:20.441357"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q92bj2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c29c55f15b872ec4b445192981615b1820151201-1256-nohxfy'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c29c55f15b872ec4b445192981615b1820151201-1256-195kyqu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1q9lhek.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c29c55f15b872ec4b445192981615b1820151201-1256-19yhswr'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1p17yd3.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:13:20.573158"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 3], ["created_at", "2015-12-01 20:13:20.770902"], ["updated_at", "2015-12-01 20:13:20.770902"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "companies"]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 2]]
  Rendered categories/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms)
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "products"]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 3]]
  Rendered categories/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started GET "/users/new" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$JVIc9ywu7dT.T5ZkcnX9ce/EdZ5/HPRxzbE/bl7sy69dXK.JlvdqS"], ["created_at", "2015-12-01 20:13:20.851186"], ["updated_at", "2015-12-01 20:13:20.851186"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:13:20 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$Tv0okZ3K3doSJQoWUIMkAO/n69TbZKcw0edIpwcBbnXuoPhYDzJsm"], ["created_at", "2015-12-01 20:13:20.869575"], ["updated_at", "2015-12-01 20:13:20.869575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-3p3qzm.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7c80dee00b7b35a531c70c20b78bb8af20151201-1256-fmgc9p'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7c80dee00b7b35a531c70c20b78bb8af20151201-1256-1teyncx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-16gxobs.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7c80dee00b7b35a531c70c20b78bb8af20151201-1256-at7kap'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1bapzv.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:20.996870"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:21.188752"], ["updated_at", "2015-12-01 20:13:21.188752"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=25" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"25"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 25]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "25"]]
  Rendered cart/index.html.erb within layouts/application (3.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$J.oM1DpYOHDuucLLmYDlOOCwPUMRzt/8vNXaYtiSAjK7iRS4Z0z/2"], ["created_at", "2015-12-01 20:13:21.274318"], ["updated_at", "2015-12-01 20:13:21.274318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 25]]
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.7ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:13:21.322636"], ["updated_at", "2015-12-01 20:13:21.322636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:13:21.332486"], ["updated_at", "2015-12-01 20:13:21.332486"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:13:21.335630"], ["updated_at", "2015-12-01 20:13:21.335630"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 6) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$jilkzdRi5KuDdi8qu0MVBOV6PJHCvxkGcQoOpZ/tuAkd6FKuF8V/W"], ["created_at", "2015-12-01 20:13:21.345890"], ["updated_at", "2015-12-01 20:13:21.345890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-17yn5x2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3ef7712ab5ea581eb448ae99d933631c20151201-1256-1g7yw9m'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3ef7712ab5ea581eb448ae99d933631c20151201-1256-1x83b9z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1rot4e3.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3ef7712ab5ea581eb448ae99d933631c20151201-1256-1xj9ihf'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-ih01k3.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:21.462568"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:13:21.650556"], ["updated_at", "2015-12-01 20:13:21.650556"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 26], ["created_at", "2015-12-01 20:13:21.670334"], ["updated_at", "2015-12-01 20:13:21.670334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 13], ["sticker_id", 26], ["quantity", 1], ["created_at", "2015-12-01 20:13:21.672612"], ["updated_at", "2015-12-01 20:13:21.672612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 26]]
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 26]]
  Rendered orders/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)
Started GET "/orders/13" for 127.0.0.1 at 2015-12-01 13:13:21 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mOrderSticker Load (0.2ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 13]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 26]]
  Rendered orders/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-43bygc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/da1c9bb09d1d8c3efa2ff577f355ad1120151201-1256-1f3u1of'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/da1c9bb09d1d8c3efa2ff577f355ad1120151201-1256-1t8fnxw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-iomhm9.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/da1c9bb09d1d8c3efa2ff577f355ad1120151201-1256-13v728n'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-dhiqhe.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:21.850620"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:13:22.042488"], ["updated_at", "2015-12-01 20:13:22.042488"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/27" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 27]]
  Rendered stickers/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1iag2xb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e3644aa9337c366552d52081a640c41520151201-1256-6osnkd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e3644aa9337c366552d52081a640c41520151201-1256-s9x3wy'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-fpquha.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e3644aa9337c366552d52081a640c41520151201-1256-rm5p0f'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-b82ts1.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:22.186853"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:13:22.376097"], ["updated_at", "2015-12-01 20:13:22.376097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$KTWh1B8LaTpR44gJpP9FruiaQl1.ufyRSUcrIZb.pIW4Sf5TVdqwi"], ["created_at", "2015-12-01 20:13:22.391099"], ["updated_at", "2015-12-01 20:13:22.391099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=28" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"28"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 28]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=28" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"28"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 28]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "28"]]
  Rendered cart/index.html.erb within layouts/application (3.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by OrdersController#create as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 27], ["created_at", "2015-12-01 20:13:22.458146"], ["updated_at", "2015-12-01 20:13:22.458146"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["sticker_id", 28], ["order_id", 14], ["created_at", "2015-12-01 20:13:22.460980"], ["updated_at", "2015-12-01 20:13:22.460980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 27]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1nkkcbv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/83585492947b84baa499091fa8fe4a3520151201-1256-dis2f9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/83585492947b84baa499091fa8fe4a3520151201-1256-1j1av1k'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-1lm3vqq.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/83585492947b84baa499091fa8fe4a3520151201-1256-19ur1vp'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-ol6cp9.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:22.586212"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:13:22.775488"], ["updated_at", "2015-12-01 20:13:22.775488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/29" for 127.0.0.1 at 2015-12-01 13:13:22 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 29]]
  Rendered stickers/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-tabh1d.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/18518db7af949a5fd41588ec335ed03020151201-1256-67hawe'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/18518db7af949a5fd41588ec335ed03020151201-1256-1xdoodg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-2vfo51.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/18518db7af949a5fd41588ec335ed03020151201-1256-d3e1df'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1256-10uhm8w.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:13:22.912387"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:13:23.098818"], ["updated_at", "2015-12-01 20:13:23.098818"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$mwPKGW/kk8IsjwkWdCpHje0ZrxAGAFwbHreNrkAO0LJH6bfeKd0.K"], ["created_at", "2015-12-01 20:13:23.115376"], ["updated_at", "2015-12-01 20:13:23.115376"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-2z3lfk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b67bf5d7f2633e535a5a06878df58b2620151201-1256-qfux19'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b67bf5d7f2633e535a5a06878df58b2620151201-1256-13tywl0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1jyyt3c.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b67bf5d7f2633e535a5a06878df58b2620151201-1256-lxifsq'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1256-1hvs9d5.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:13:23.227243"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-12-01 20:13:23.422512"], ["updated_at", "2015-12-01 20:13:23.422512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=30" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"30"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 30]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=31" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"31"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 31]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "30"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "31"]]
  Rendered cart/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "James"], ["password_digest", "$2a$04$MQZvNISRnWCFxErpYDL8Le3U82wEDHKcZr39a1FIj7Qtna1sXBQ6S"], ["created_at", "2015-12-01 20:13:23.490296"], ["updated_at", "2015-12-01 20:13:23.490296"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$PjJkErSj0dda3qj6lf2/heLtgOrx1LJ9SE1UX4bBQh9yGuSXxXwwy"], ["role", 1], ["created_at", "2015-12-01 20:13:23.504810"], ["updated_at", "2015-12-01 20:13:23.504810"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$QHHA7Kr7/cPssgse8vjcMORywtEiIoZDZ531ZL2M/bfbqxKFAdbdm"], ["created_at", "2015-12-01 20:13:23.521289"], ["updated_at", "2015-12-01 20:13:23.521289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 31]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 31], ["created_at", "2015-12-01 20:13:23.546599"], ["updated_at", "2015-12-01 20:13:23.546599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 31]]
  Rendered orders/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/orders/15" for 127.0.0.1 at 2015-12-01 13:13:23 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mOrderSticker Load (0.2ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 15]]
  Rendered orders/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$ske8lrkP2D97K2TUdt36gueneUsLA81R7nwF7A1aNlYCVkQ6TRMvC"], ["created_at", "2015-12-01 20:27:52.296691"], ["updated_at", "2015-12-01 20:27:52.296691"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 128ms (Views: 114.3ms | ActiveRecord: 1.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (282.0ms)
Completed 200 OK in 286ms (Views: 285.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 32]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 32], ["created_at", "2015-12-01 20:27:52.836308"], ["updated_at", "2015-12-01 20:27:52.836308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 32]]
  Rendered orders/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.6ms)
Started GET "/orders/16" for 127.0.0.1 at 2015-12-01 13:27:52 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mOrderSticker Load (0.4ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 16]]
  Rendered orders/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ittpbd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/89f95d91f0232a3b3b6d7ee3496cfef220151201-1843-fdqka8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/89f95d91f0232a3b3b6d7ee3496cfef220151201-1843-x10yu9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-6se1m0.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/89f95d91f0232a3b3b6d7ee3496cfef220151201-1843-j7z0jd'
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-inalgo.png'
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vkjcs2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/85186cb5845226fb984e4889bb486e0120151201-1843-jezph4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/85186cb5845226fb984e4889bb486e0120151201-1843-74j4m7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xx1klb.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/85186cb5845226fb984e4889bb486e0120151201-1843-l6sv42'
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-dep5nn.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-alxe8e.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5e4d7361982eee351435f5168f05da9320151201-1843-h1kjy4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5e4d7361982eee351435f5168f05da9320151201-1843-5ckb5l'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-a5p5y2.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5e4d7361982eee351435f5168f05da9320151201-1843-1dozdyf'
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1f31j2k.png'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$U1KcsnTKpIWY/88ZlXhmN.FK1ehGV4WYxhD/e8qQUxFbQVMFp6z3y"], ["role", 1], ["created_at", "2015-12-01 20:27:53.823852"], ["updated_at", "2015-12-01 20:27:53.823852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$Fq4sxxkPTpP6QOnFFL1bA.d2Zpk/X2XEHxMt21S6KU48gJQiq/wXu"], ["role", 1], ["created_at", "2015-12-01 20:27:53.877659"], ["updated_at", "2015-12-01 20:27:53.877659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 34]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.4ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:53 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-16dd4av.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/173084f87fd4b28371c58133e015a59620151201-1843-1ugunhb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/173084f87fd4b28371c58133e015a59620151201-1843-3oivfh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-1843-ahv16p.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/173084f87fd4b28371c58133e015a59620151201-1843-jz9hzy'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 403ms (Views: 4.5ms | ActiveRecord: 2.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$eReCKoeOkJKHnp5oxUYGV.32tJEupJymDQSHP/TvAtPyCvetU0XGK"], ["role", 1], ["created_at", "2015-12-01 20:27:54.330211"], ["updated_at", "2015-12-01 20:27:54.330211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 35]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1u5y4mb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b91b1458c08f46b1094a3b0afcec548520151201-1843-1t837h'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b91b1458c08f46b1094a3b0afcec548520151201-1843-16bxg6z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-1vtmqp1.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b91b1458c08f46b1094a3b0afcec548520151201-1843-1jwpz1e'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-19x933v.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-1843-aujst3.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-12-01 20:27:54.485852"], ["created_at", "2015-12-01 20:27:54.657209"], ["updated_at", "2015-12-01 20:27:54.657209"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 301ms (ActiveRecord: 2.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 35]]
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$jk.2N0ioEXrMrd55E4tXI.KSyvfwxJd02I5Cwx4w6TI0g7txItQq2"], ["role", 1], ["created_at", "2015-12-01 20:27:54.686336"], ["updated_at", "2015-12-01 20:27:54.686336"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 36]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:54 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1fwqwq4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8b2de26c76e2b7cc29bb3c7a8549328720151201-1843-16f85on'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8b2de26c76e2b7cc29bb3c7a8549328720151201-1843-1x9xrja'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1tj9o9h.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8b2de26c76e2b7cc29bb3c7a8549328720151201-1843-bfknil'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-3qucq3.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-4qy2ki.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:27:54.840544"], ["created_at", "2015-12-01 20:27:55.008957"], ["updated_at", "2015-12-01 20:27:55.008957"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 297ms (ActiveRecord: 2.8ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 36]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tggd2z.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdaf75f4a9ac95aad00af13cb88372bf20151201-1843-1a595b2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdaf75f4a9ac95aad00af13cb88372bf20151201-1843-1cgovki'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13o97go.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdaf75f4a9ac95aad00af13cb88372bf20151201-1843-1wawm8m'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-19o4fu5.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:55.150277"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:27:55.326910"], ["updated_at", "2015-12-01 20:27:55.326910"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-b8ex0e.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5b684bfcc5f11d70382beb42277cedc820151201-1843-nsh4fy'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5b684bfcc5f11d70382beb42277cedc820151201-1843-euxhqi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-4tv269.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5b684bfcc5f11d70382beb42277cedc820151201-1843-10wjyjk'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-hinw8a.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:27:55.450832"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 20:27:55.634473"], ["updated_at", "2015-12-01 20:27:55.634473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=34" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"34"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 34]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=35" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"35"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 35]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:27:55 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "34"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "35"]]
  Rendered cart/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-qyazrf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/193015b8c21e3366393a13a40a21bb7420151201-1843-1uoklss'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/193015b8c21e3366393a13a40a21bb7420151201-1843-zsatfx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-xwffoe.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/193015b8c21e3366393a13a40a21bb7420151201-1843-1orj4x4'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-ya035q.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:55.839326"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:27:56.016503"], ["updated_at", "2015-12-01 20:27:56.016503"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=36" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"36"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 36]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=36" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"36"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 36]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "36"]]
  Rendered cart/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started DELETE "/cart_stickers/36" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"36"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 36]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$WI76TnLsPNrO8kS0bCIDTONq53lZWxql.gVmx/4IeOuoceIuqjIUi"], ["created_at", "2015-12-01 20:27:56.078539"], ["updated_at", "2015-12-01 20:27:56.078539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-10oh8xm.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/997a698a15ffcd8fd55c8437f68ffaf220151201-1843-17h5u2f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/997a698a15ffcd8fd55c8437f68ffaf220151201-1843-1jb7nk2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-95q3jh.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/997a698a15ffcd8fd55c8437f68ffaf220151201-1843-7elia'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1f85t77.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:56.193555"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:27:56.366668"], ["updated_at", "2015-12-01 20:27:56.366668"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 37], ["created_at", "2015-12-01 20:27:56.376886"], ["updated_at", "2015-12-01 20:27:56.376886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 17], ["sticker_id", 37], ["quantity", 1], ["created_at", "2015-12-01 20:27:56.384163"], ["updated_at", "2015-12-01 20:27:56.384163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 37]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 37]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms)
Started GET "/orders/17" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mOrderSticker Load (0.3ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 17]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 37]]
  Rendered orders/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-01 20:27:56.449114"], ["updated_at", "2015-12-01 20:27:56.449114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-8fp85z.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f6a63b3d77944545df41ca713ae2f8d220151201-1843-1c4gam6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f6a63b3d77944545df41ca713ae2f8d220151201-1843-15f1jfv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bw1kx6.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f6a63b3d77944545df41ca713ae2f8d220151201-1843-s44amy'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-15jsjam.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:56.566970"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 7], ["created_at", "2015-12-01 20:27:56.742948"], ["updated_at", "2015-12-01 20:27:56.742948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.3ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "geeky"]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 7]]
  Rendered categories/show.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)
Started GET "/stickers/38" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 38]]
  Rendered stickers/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$XStm93jMQDwG12Ftn7ZN/Oom/5zq98OeZYRtKI7OjmoNW.eUA/pOi"], ["role", 1], ["created_at", "2015-12-01 20:27:56.809394"], ["updated_at", "2015-12-01 20:27:56.809394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 38]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:56 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-1awz703.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3df0a3aeb3caaf333404cc5f3dd035d220151201-1843-w6ytu0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3df0a3aeb3caaf333404cc5f3dd035d220151201-1843-zj0ykh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-2p5xyt.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3df0a3aeb3caaf333404cc5f3dd035d220151201-1843-23rw4l'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-1y522sc.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-7ep7sr.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 20:27:57.088295"], ["created_at", "2015-12-01 20:27:57.314453"], ["updated_at", "2015-12-01 20:27:57.314453"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 480ms (ActiveRecord: 2.8ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 38]]
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.7ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$3OA7jUIBLQxe.IFsRSAYbe9UWT1ho4qEqU/3WWrB9EIjZqZgcKhJ6"], ["role", 1], ["created_at", "2015-12-01 20:27:57.369069"], ["updated_at", "2015-12-01 20:27:57.369069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 39]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-munqa9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd37a320236a486a27174f2a963aa90020151201-1843-5fmqyt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd37a320236a486a27174f2a963aa90020151201-1843-6ho0zd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-tlicx2.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd37a320236a486a27174f2a963aa90020151201-1843-1yy7ds5'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-yso0gl.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-1843-1n1abzs.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 20:27:57.545798"], ["created_at", "2015-12-01 20:27:57.771956"], ["updated_at", "2015-12-01 20:27:57.771956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 367ms (ActiveRecord: 2.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 39]]
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.5ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$1144mCUvV7CiRTHXuTyhseex1IAYUqMQ41rxXT/64s0iDKhgY.BTK"], ["role", 1], ["created_at", "2015-12-01 20:27:57.812341"], ["updated_at", "2015-12-01 20:27:57.812341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.5ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 24ms (Views: 24.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "James"], ["password_digest", "$2a$04$AAMO0EOi7cmK74p13ALzre7A2klqj8PmnW2boLnqBWS1nq.RdXDy6"], ["created_at", "2015-12-01 20:27:57.857838"], ["updated_at", "2015-12-01 20:27:57.857838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:57 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$eZX1zTn3DGChvm7CJ5hWgu3O0DYJCWoA85hIURc5G8xCtzxakCMw."], ["created_at", "2015-12-01 20:27:57.874386"], ["updated_at", "2015-12-01 20:27:57.874386"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 42], ["created_at", "2015-12-01 20:27:57.876928"], ["updated_at", "2015-12-01 20:27:57.876928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$Ku8gBRR2N2CrxNAb77/VouMHkjmC0jewLshRSdcWLQnBqTbOL6pLy"], ["created_at", "2015-12-01 20:27:57.880657"], ["updated_at", "2015-12-01 20:27:57.880657"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Cancelled"], ["user_id", 42], ["created_at", "2015-12-01 20:27:57.882590"], ["updated_at", "2015-12-01 20:27:57.882590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$CJ6H6FJGeE0it2TrvYkreur/dbfXTw9VSUafgch3jp4px3lE9RehK"], ["created_at", "2015-12-01 20:27:57.886893"], ["updated_at", "2015-12-01 20:27:57.886893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Paid"], ["user_id", 44], ["created_at", "2015-12-01 20:27:57.889260"], ["updated_at", "2015-12-01 20:27:57.889260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$Cse22TrEmbuBS.8Y8DB1uuEsqlbUuWnx.R7mIYLyD4ZKzbLx5BWnS"], ["created_at", "2015-12-01 20:27:57.892984"], ["updated_at", "2015-12-01 20:27:57.892984"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 44], ["created_at", "2015-12-01 20:27:57.894931"], ["updated_at", "2015-12-01 20:27:57.894931"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-qj02zd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1d87ab327a78c6ae16a146d6990f2ffa20151201-1843-1isfbcc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1d87ab327a78c6ae16a146d6990f2ffa20151201-1843-z42qgn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-124hbbd.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1d87ab327a78c6ae16a146d6990f2ffa20151201-1843-157l585'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-thf2o9.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:58.007840"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:27:58.183222"], ["updated_at", "2015-12-01 20:27:58.183222"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$BARY8yG8eDNoSddW2qU6Wuls.0QgM/DxfTpdh37fCdC7nMzicoq4G"], ["role", 1], ["created_at", "2015-12-01 20:27:58.211599"], ["updated_at", "2015-12-01 20:27:58.211599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 46]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-17850o0.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97b5d55028bd42d06c0d7334088a233520151201-1843-v6tf3c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97b5d55028bd42d06c0d7334088a233520151201-1843-d2nb5y'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-cfzng0.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97b5d55028bd42d06c0d7334088a233520151201-1843-1vrd85t'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-8bbzla.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1mr044q.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:27:58.362282"], ["created_at", "2015-12-01 20:27:58.528440"], ["updated_at", "2015-12-01 20:27:58.528440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 291ms (ActiveRecord: 2.4ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 46]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers/42/edit" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"42"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 42]]
  Rendered admin/stickers/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
Started PATCH "/stickers/42" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/042/original/uwgt.png?1449001678", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"42"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 42]]
Unpermitted parameters: category, image
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 42) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3[0m  [["retired", "t"], ["updated_at", "2015-12-01 20:27:58.582588"], ["id", 42]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 42) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.4ms)
Started GET "/admin/stickers/42/edit" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"42"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 42]]
  Rendered admin/stickers/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$mVqRcOOH8fOfXtu6ZX.3iuos8uhJLtyDUPl0lcjGxH19LSzEUmwJO"], ["role", 1], ["created_at", "2015-12-01 20:27:58.607604"], ["updated_at", "2015-12-01 20:27:58.607604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-82nwwx.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1039ad81ac5b6906a5af51b52c006c8e20151201-1843-blq4zz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1039ad81ac5b6906a5af51b52c006c8e20151201-1843-1qoc948'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-1lcf8jt.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1039ad81ac5b6906a5af51b52c006c8e20151201-1843-q4utbo'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-17trh1.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-1843-kri1su.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 20:27:58.767229"], ["created_at", "2015-12-01 20:27:58.934038"], ["updated_at", "2015-12-01 20:27:58.934038"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 305ms (ActiveRecord: 2.3ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/43/edit" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"43"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 43]]
  Rendered admin/stickers/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started PATCH "/stickers/43" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/043/original/uwgt.png?1449001678", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"43"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 43]]
Unpermitted parameters: category, image
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 43) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-12-01 20:27:58.985589"], ["id", 43]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 43) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 13:27:58 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "beyonce"], ["password_digest", "$2a$04$jKMGeyltqJcowLPpruwiIuDKiASFxvV3v/Rr8/JmVhzvyC221YtGm"], ["role", 1], ["created_at", "2015-12-01 20:27:59.002450"], ["updated_at", "2015-12-01 20:27:59.002450"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$wkqoGO6MqPJES4NVp8aIweK7Amfjz.xqDqJ4pqY3fbdGkB5Zyunem"], ["role", 1], ["created_at", "2015-12-01 20:27:59.021637"], ["updated_at", "2015-12-01 20:27:59.021637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "sekhar"], ["password_digest", "$2a$04$k.fwX4b9xceNbqSvdzB.5OtnY7ySXfkn0d0CqaS./WHCHgJHbiwjO"], ["created_at", "2015-12-01 20:27:59.025154"], ["updated_at", "2015-12-01 20:27:59.025154"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 50], ["created_at", "2015-12-01 20:27:59.027448"], ["updated_at", "2015-12-01 20:27:59.027448"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 50], ["created_at", "2015-12-01 20:27:59.029134"], ["updated_at", "2015-12-01 20:27:59.029134"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 49], ["created_at", "2015-12-01 20:27:59.031567"], ["updated_at", "2015-12-01 20:27:59.031567"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "cancelled"], ["user_id", 49], ["created_at", "2015-12-01 20:27:59.033763"], ["updated_at", "2015-12-01 20:27:59.033763"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:27:59.070653"], ["updated_at", "2015-12-01 20:27:59.070653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:27:59.073655"], ["updated_at", "2015-12-01 20:27:59.073655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 9) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 20:27:59.077738"], ["updated_at", "2015-12-01 20:27:59.077738"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yrzeeg.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ac0ceab92d5118f8099b12cd4217ef820151201-1843-19qvuo4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ac0ceab92d5118f8099b12cd4217ef820151201-1843-f8k5wn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-tn8b66.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ac0ceab92d5118f8099b12cd4217ef820151201-1843-zgq2ca'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jh23u0.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:59.230798"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:27:59.408078"], ["updated_at", "2015-12-01 20:27:59.408078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-13b73eq.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a5484dcc96f84b5f6da9828712a0f85d20151201-1843-y09nl4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a5484dcc96f84b5f6da9828712a0f85d20151201-1843-1011tau'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ph642f.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a5484dcc96f84b5f6da9828712a0f85d20151201-1843-9gyyqo'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-le78sp.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:27:59.533344"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 20:27:59.713289"], ["updated_at", "2015-12-01 20:27:59.713289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=44" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"44"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 44]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=45" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"45"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 45]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:27:59 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "44"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "45"]]
  Rendered cart/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-13wanc1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a4c3e551181060f9e60dc6e71b9e23a320151201-1843-19ppmb0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a4c3e551181060f9e60dc6e71b9e23a320151201-1843-t2oefb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1vv6xyz.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a4c3e551181060f9e60dc6e71b9e23a320151201-1843-i84d7y'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-f6otw8.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:27:59.905292"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:00.102891"], ["updated_at", "2015-12-01 20:28:00.102891"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/46" for 127.0.0.1 at 2015-12-01 13:28:00 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 46]]
  Rendered stickers/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wwi8lo.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/efbf086b1a3bd6a13141b6663927b35820151201-1843-1w79um4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/efbf086b1a3bd6a13141b6663927b35820151201-1843-cwtuco'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-144kifg.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/efbf086b1a3bd6a13141b6663927b35820151201-1843-hu9la1'
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1gnt847.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:00.248479"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:00.432348"], ["updated_at", "2015-12-01 20:28:00.432348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/47" for 127.0.0.1 at 2015-12-01 13:28:00 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"47"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 47]]
  Rendered stickers/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ftobi1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d0bdb57e8174be41830c09d68a753d7f20151201-1843-fnaezh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d0bdb57e8174be41830c09d68a753d7f20151201-1843-1m8ui01'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-hgau1c.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d0bdb57e8174be41830c09d68a753d7f20151201-1843-bmiqgj'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-c97t27.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:00.571883"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:00.759715"], ["updated_at", "2015-12-01 20:28:00.759715"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/48" for 127.0.0.1 at 2015-12-01 13:28:00 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"48"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 48]]
  Rendered stickers/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-10s6imf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f7e055d0b79bb32d4764494390ad1a4820151201-1843-12pna2i'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f7e055d0b79bb32d4764494390ad1a4820151201-1843-139esbt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1g1ylrt.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f7e055d0b79bb32d4764494390ad1a4820151201-1843-r7gxb1'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xtsfa6.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:00.916437"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:01.102817"], ["updated_at", "2015-12-01 20:28:01.102817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=49" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"49"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 49]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$/8H/3Xtqtlf2bVI/1F7qn.EyxRxymItRU3E3qQwtFcR4FTpE4F1FO"], ["created_at", "2015-12-01 20:28:01.151686"], ["updated_at", "2015-12-01 20:28:01.151686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 51]]
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started GET "/users/new" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$LySQ.KfBB3ISKt8bKcsuSu0QLd0BTBBMqfDNPSCTJB6E00g4W3EXC"], ["created_at", "2015-12-01 20:28:01.219457"], ["updated_at", "2015-12-01 20:28:01.219457"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 52]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$U8QVpb/RlUPVI27cT2R6dugGaQ5VQID.JVjcBWP11PcO7Bv1D4f6W"], ["created_at", "2015-12-01 20:28:01.237327"], ["updated_at", "2015-12-01 20:28:01.237327"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-19rqewo.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/620b0ecb2131475ecc8bb50d90b32af020151201-1843-ofn0h8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/620b0ecb2131475ecc8bb50d90b32af020151201-1843-fh4o1n'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-vvt9il.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/620b0ecb2131475ecc8bb50d90b32af020151201-1843-1raveus'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-19m9x1.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:01.368591"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:01.550719"], ["updated_at", "2015-12-01 20:28:01.550719"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=50" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"50"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 50]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 53]]
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "50"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 53]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$eaACdi9s4k87Jw8I0lzTTeV9SvuHFCAZpYeTERbRb10LoxdkRkG52"], ["role", 1], ["created_at", "2015-12-01 20:28:01.635452"], ["updated_at", "2015-12-01 20:28:01.635452"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 54]]
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 54]]
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$hxtJJJ6Qci2mY/ajVxQxC.MRUsVRffpgK0XKnR6woR7zuVcwTZOPq"], ["role", 1], ["created_at", "2015-12-01 20:28:01.682275"], ["updated_at", "2015-12-01 20:28:01.682275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 55]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 55]]
  Rendered users/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.4ms)
Started PATCH "/users/55" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"55"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 55) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$VmQQ.5Eme7JCMfHwc6sEOeGBUBTnNuhx/VkW815lD8k9Ks2ODb1HK"], ["updated_at", "2015-12-01 20:28:01.739956"], ["id", 55]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 13:28:01 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 55]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-sy4u7j.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/228ab03550f1b31d0affc9d0200ab57b20151201-1843-1jc4ssl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/228ab03550f1b31d0affc9d0200ab57b20151201-1843-g3y4nf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1qceo1n.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/228ab03550f1b31d0affc9d0200ab57b20151201-1843-144s3kl'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1sztz5l.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:01.877070"], ["price", "6.0"], ["created_at", "2015-12-01 20:28:02.055272"], ["updated_at", "2015-12-01 20:28:02.055272"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$5ZNq8ngtZiAWtOuYdJ.j5.2VYcTTG.HAeXPu0Y9t6BWZtBNWD523q"], ["created_at", "2015-12-01 20:28:02.069768"], ["updated_at", "2015-12-01 20:28:02.069768"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 56]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 56]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=51" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"51"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 51]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 56]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=51" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"51"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 51]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 56]]
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "51"]]
  Rendered cart/index.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 56]]
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 56], ["created_at", "2015-12-01 20:28:02.134055"], ["updated_at", "2015-12-01 20:28:02.134055"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 51], ["order_id", 26], ["created_at", "2015-12-01 20:28:02.135788"], ["updated_at", "2015-12-01 20:28:02.135788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 56]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-incyjb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/69de123537216380d934f9b260d70ed020151201-1843-1a2czlr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/69de123537216380d934f9b260d70ed020151201-1843-9yruso'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-152nij.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/69de123537216380d934f9b260d70ed020151201-1843-15i1oh4'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-n6grg3.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:02.256774"], ["price", "6.0"], ["created_at", "2015-12-01 20:28:02.431969"], ["updated_at", "2015-12-01 20:28:02.431969"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=52" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"52"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 52]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "52"]]
  Rendered cart/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$bfznZv9krUB/7gwbka3d7O3x46Qex/idPQcGg/KK4GDUYnODEl6iS"], ["created_at", "2015-12-01 20:28:02.483061"], ["updated_at", "2015-12-01 20:28:02.483061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 57]]
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 57], ["created_at", "2015-12-01 20:28:02.506037"], ["updated_at", "2015-12-01 20:28:02.506037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 57]]
  Rendered orders/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$valg.bBmP762ifm7oaoNY.AtJZ.NgrmUYFxLcsqGxUarkSds28yau"], ["created_at", "2015-12-01 20:28:02.520470"], ["updated_at", "2015-12-01 20:28:02.520470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 58]]
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 58]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 58]]
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 58]]
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1hk7uza.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/16fe6ac83eb0f92b6ae005d65ff9355d20151201-1843-19yduzo'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/16fe6ac83eb0f92b6ae005d65ff9355d20151201-1843-13ht5pj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-bf51ya.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/16fe6ac83eb0f92b6ae005d65ff9355d20151201-1843-1nfr6y1'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-17s7bv8.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:02.677741"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 20:28:02.851406"], ["updated_at", "2015-12-01 20:28:02.851406"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=53" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"53"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 53]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "53"]]
  Rendered cart/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 13:28:02 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ge8gds.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/178dd001e2fe5657b4969e67ff12f52f20151201-1843-u1yyh6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/178dd001e2fe5657b4969e67ff12f52f20151201-1843-vctwpf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-18cregb.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/178dd001e2fe5657b4969e67ff12f52f20151201-1843-1h2ogl2'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-2ri6ds.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ba657cd349ebff9b7baf7a5e8b9fc32920151201-1843-1h6z1ly'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ba657cd349ebff9b7baf7a5e8b9fc32920151201-1843-1pndyq3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bq8z6n.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ba657cd349ebff9b7baf7a5e8b9fc32920151201-1843-1j3hm8g'
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-14ydgs3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/467ab5f1d61604924a85ce177651c41620151201-1843-qrbg29'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/467ab5f1d61604924a85ce177651c41620151201-1843-1te0mff'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-fzi6sm.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/467ab5f1d61604924a85ce177651c41620151201-1843-1f3bswj'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bslirt.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:03.581260"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:28:03.764524"], ["updated_at", "2015-12-01 20:28:03.764524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/54" for 127.0.0.1 at 2015-12-01 13:28:03 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"54"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 54]]
  Rendered stickers/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1xpn5sy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ca7e6ad178bf17c3688780c729c662dd20151201-1843-vdfuk3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ca7e6ad178bf17c3688780c729c662dd20151201-1843-m69ji0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-wv3hi6.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ca7e6ad178bf17c3688780c729c662dd20151201-1843-1bt8tc2'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-pimm1q.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:04.465621"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:28:04.647429"], ["updated_at", "2015-12-01 20:28:04.647429"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$tLc/lw1TVNVnsFDi.3ZJfuA90D5ORLHe0XHNjSdoRvB3y32KhMjk6"], ["created_at", "2015-12-01 20:28:04.668581"], ["updated_at", "2015-12-01 20:28:04.668581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 59]]
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 59]]
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=55" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"55"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 55]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 59]]
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=55" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"55"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 55]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 59]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "55"]]
  Rendered cart/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 59]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 59], ["created_at", "2015-12-01 20:28:04.752931"], ["updated_at", "2015-12-01 20:28:04.752931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 55], ["order_id", 28], ["created_at", "2015-12-01 20:28:04.755155"], ["updated_at", "2015-12-01 20:28:04.755155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:28:04 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 59]]
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-j2d39y.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/041f8f73e9eeba86ae4d9724db4e125420151201-1843-1qte0pk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/041f8f73e9eeba86ae4d9724db4e125420151201-1843-13m7c4o'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-163cfkk.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/041f8f73e9eeba86ae4d9724db4e125420151201-1843-1r1g4p7'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-180fyvk.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:04.881504"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:28:05.062026"], ["updated_at", "2015-12-01 20:28:05.062026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/56" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"56"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 56]]
  Rendered stickers/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ys5kb7.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e41dcf3843b4f586e51b6843fdcdefa420151201-1843-fo88xg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e41dcf3843b4f586e51b6843fdcdefa420151201-1843-1vmw49s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-11rk8x8.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e41dcf3843b4f586e51b6843fdcdefa420151201-1843-p24wzg'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-16da06h.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:05.204157"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 20:28:05.389811"], ["updated_at", "2015-12-01 20:28:05.389811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$FEVj8BaWZhaS//cNgGYsv.Y6jfYtcPijn.YS77h9yT6ZL4GzLxeXi"], ["created_at", "2015-12-01 20:28:05.406600"], ["updated_at", "2015-12-01 20:28:05.406600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1htra93.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4e7ae110c651427aaf5f0d340c44e98120151201-1843-ujxfy6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4e7ae110c651427aaf5f0d340c44e98120151201-1843-zd7aj8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-iwiuty.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4e7ae110c651427aaf5f0d340c44e98120151201-1843-rw7jf3'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1htztla.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:28:05.526600"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-12-01 20:28:05.710940"], ["updated_at", "2015-12-01 20:28:05.710940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=57" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"57"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 57]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=58" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"58"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 58]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:05 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "57"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "58"]]
  Rendered cart/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-01 20:28:05.782612"], ["updated_at", "2015-12-01 20:28:05.782612"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-01 20:28:05.784893"], ["updated_at", "2015-12-01 20:28:05.784893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1bsnaxl.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f0530202d35db51b1b002e88c92742b220151201-1843-1sk2cd0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f0530202d35db51b1b002e88c92742b220151201-1843-1edcgpt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1ywygjj.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f0530202d35db51b1b002e88c92742b220151201-1843-azu9j1'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-14lj26y.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:06.113845"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 11], ["created_at", "2015-12-01 20:28:06.292449"], ["updated_at", "2015-12-01 20:28:06.292449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1ongnpy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f4b1ead8f2183ce26870a5f906f0019c20151201-1843-we7iwp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f4b1ead8f2183ce26870a5f906f0019c20151201-1843-12s22hl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-zdctds.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f4b1ead8f2183ce26870a5f906f0019c20151201-1843-1n9et59'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-1843-1sdwh63.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 20:28:06.690714"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 12], ["created_at", "2015-12-01 20:28:06.882741"], ["updated_at", "2015-12-01 20:28:06.882741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "companies"]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 11]]
  Rendered categories/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "products"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 12]]
  Rendered categories/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$RFLV/9XVZT/UbPVBMzwzp.2/f3T2nSy7t5j0Z/puK5abwmufq2DNa"], ["created_at", "2015-12-01 20:28:06.940884"], ["updated_at", "2015-12-01 20:28:06.940884"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Emily"], ["password_digest", "$2a$04$iJ6iC1pzZm.ptZzdR4LR0OZxdTs5CSik7bGeJg9AFQdzBsVpDdNiK"], ["created_at", "2015-12-01 20:28:06.944471"], ["updated_at", "2015-12-01 20:28:06.944471"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 61], ["created_at", "2015-12-01 20:28:06.946913"], ["updated_at", "2015-12-01 20:28:06.946913"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 62], ["created_at", "2015-12-01 20:28:06.950212"], ["updated_at", "2015-12-01 20:28:06.950212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 61]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 61]]
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
Started GET "/orders/29" for 127.0.0.1 at 2015-12-01 13:28:06 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mOrderSticker Load (0.2ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 29]]
  Rendered orders/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.7ms)
Started GET "/orders/30" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 62]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 61]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-jkpwdu.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/740a0330721ff5585bef1ea8a279d1bc20151201-1843-122q783'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/740a0330721ff5585bef1ea8a279d1bc20151201-1843-fjvnsu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-yzetsk.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/740a0330721ff5585bef1ea8a279d1bc20151201-1843-k1nffr'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1avyq8i.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:07.218833"], ["price", "6.0"], ["created_at", "2015-12-01 20:28:07.396902"], ["updated_at", "2015-12-01 20:28:07.396902"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=61" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"61"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 61]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "61"]]
  Rendered cart/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started PATCH "/cart_stickers/61?adjustment=increase" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"61"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 61]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "61"]]
  Rendered cart/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1obti8k.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db8b34254c0dc3d646bf2b8aad018a1220151201-1843-13hi9gh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db8b34254c0dc3d646bf2b8aad018a1220151201-1843-18nqhu3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-1jet6nz.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db8b34254c0dc3d646bf2b8aad018a1220151201-1843-1p9poxx'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-1843-me69d7.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 20:28:07.714119"], ["price", "6.0"], ["created_at", "2015-12-01 20:28:07.889410"], ["updated_at", "2015-12-01 20:28:07.889410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=62" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"62"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 62]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=62" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"62"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 62]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "62"]]
  Rendered cart/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started PATCH "/cart_stickers/62?adjustment=decrease" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"62"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 62]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 13:28:07 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "62"]]
  Rendered cart/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$ySF7XzvDmLYAzZXD8ETQ..0H6Bt.Gpw.EjS4fAGKfb.G.sK2G.LNC"], ["role", 1], ["created_at", "2015-12-01 21:15:08.955295"], ["updated_at", "2015-12-01 21:15:08.955295"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:09 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (261.8ms)
Completed 200 OK in 410ms (Views: 401.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:09 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:09 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 17ms (Views: 8.7ms | ActiveRecord: 2.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:09 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 63]]
  Rendered admin/stickers/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 23ms (Views: 11.7ms | ActiveRecord: 1.9ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:09 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-jfty4p.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b26656930fd0aebc79ed71be98614c0120151201-2529-1ie12kw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b26656930fd0aebc79ed71be98614c0120151201-2529-qqkfc1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-xq8ow1.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b26656930fd0aebc79ed71be98614c0120151201-2529-1y42qdr'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-1ut1tif.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-1uqxm2q.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 21:15:09.761817"], ["created_at", "2015-12-01 21:15:10.006254"], ["updated_at", "2015-12-01 21:15:10.006254"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 505ms (ActiveRecord: 4.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 63]]
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.7ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$G2PnV0IBCSTiDgIIKzjbB.E0EFK9C86Qyiz4dbvHaqmIXZtBgHGKG"], ["role", 1], ["created_at", "2015-12-01 21:15:10.066196"], ["updated_at", "2015-12-01 21:15:10.066196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 64]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mCategory Load (1.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-czrqgx.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78ee864aeda5ed5610e30899ae6ee7020151201-2529-u7oesw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78ee864aeda5ed5610e30899ae6ee7020151201-2529-12ccjot'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-zw9mft.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78ee864aeda5ed5610e30899ae6ee7020151201-2529-3t4ykd'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-1fdhjm6.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-2529-1vdpr8g.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 21:15:10.253621"], ["created_at", "2015-12-01 21:15:10.514514"], ["updated_at", "2015-12-01 21:15:10.514514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 424ms (ActiveRecord: 3.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 64]]
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:10 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.5ms)
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-18fu74c.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c0542bfba782573ad74ce76ca3f177ab20151201-2529-9r740b'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c0542bfba782573ad74ce76ca3f177ab20151201-2529-1k2hby2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v10fbk.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c0542bfba782573ad74ce76ca3f177ab20151201-2529-ieozbi'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xausu2.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:10.700928"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:10.896495"], ["updated_at", "2015-12-01 21:15:10.896495"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1m4r34d.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87629453ebb256cb3cf2b80e6e201a7b20151201-2529-rlfwsu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87629453ebb256cb3cf2b80e6e201a7b20151201-2529-pi1ipe'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-j1sy0t.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87629453ebb256cb3cf2b80e6e201a7b20151201-2529-1fw2gax'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1as2r0z.png'
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:15:11.026829"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 21:15:11.220830"], ["updated_at", "2015-12-01 21:15:11.220830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=65" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"65"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 65]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=66" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"66"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 66]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "65"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "66"]]
  Rendered cart/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.8ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-i7ax7k.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a20cf9b6a0a65f13fa902ea34b96a7620151201-2529-1p512u7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a20cf9b6a0a65f13fa902ea34b96a7620151201-2529-hl24gr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-vn2qh4.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1a20cf9b6a0a65f13fa902ea34b96a7620151201-2529-176lz2g'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-123i4uw.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:11.435990"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:11.621561"], ["updated_at", "2015-12-01 21:15:11.621561"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=67" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"67"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 67]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=67" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"67"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 67]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "67"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
Started DELETE "/cart_stickers/67" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"67"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 67]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:11 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-yv4imf.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6ca77c3d4aaa27df64063d0e9151bf6e20151201-2529-1cnawfh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6ca77c3d4aaa27df64063d0e9151bf6e20151201-2529-1m3dmfz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1g0bjh4.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6ca77c3d4aaa27df64063d0e9151bf6e20151201-2529-hxxuhj'
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10cnyqo.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-dmhob5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/46d494d7ef1d0d98bb625f96ceca57b220151201-2529-dykf6c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/46d494d7ef1d0d98bb625f96ceca57b220151201-2529-1a7wg9r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-10ej2ut.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/46d494d7ef1d0d98bb625f96ceca57b220151201-2529-115btqs'
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-tw6447.png'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-2pnnf8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/26ff6fadddcacc4b28bd1fcb682af1c320151201-2529-17np0s9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/26ff6fadddcacc4b28bd1fcb682af1c320151201-2529-1i12qcs'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-13kvqfc.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/26ff6fadddcacc4b28bd1fcb682af1c320151201-2529-1xrrnop'
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1se1j34.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$61BSNI9W3hDXn7drswBFxe4soa1oi06TmMgwAasaKIG/zHhZ4J18y"], ["role", 1], ["created_at", "2015-12-01 21:15:12.579333"], ["updated_at", "2015-12-01 21:15:12.579333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$AYNx6PbcSxsQf7uVKBqG0OUKRGoCDRs3qmhOJr6XqXg1b5jHnHtPy"], ["role", 1], ["created_at", "2015-12-01 21:15:12.617830"], ["updated_at", "2015-12-01 21:15:12.617830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "sekhar"], ["password_digest", "$2a$04$ArVLmdQZCxSVB7ZxOJlmEOW.f8mcw2cHL38yWh5CtmasKGXuKT8I6"], ["created_at", "2015-12-01 21:15:12.621878"], ["updated_at", "2015-12-01 21:15:12.621878"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 67], ["created_at", "2015-12-01 21:15:12.634993"], ["updated_at", "2015-12-01 21:15:12.634993"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 67], ["created_at", "2015-12-01 21:15:12.639146"], ["updated_at", "2015-12-01 21:15:12.639146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 66], ["created_at", "2015-12-01 21:15:12.641974"], ["updated_at", "2015-12-01 21:15:12.641974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "cancelled"], ["user_id", 66], ["created_at", "2015-12-01 21:15:12.644502"], ["updated_at", "2015-12-01 21:15:12.644502"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1u5b4qa.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdb6e578f67d103a97d55b3b96b9d1da20151201-2529-1311pbk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdb6e578f67d103a97d55b3b96b9d1da20151201-2529-h9q8rz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8zji98.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bdb6e578f67d103a97d55b3b96b9d1da20151201-2529-phrlg2'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-736ls5.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:12.791270"], ["price", "6.0"], ["created_at", "2015-12-01 21:15:12.986467"], ["updated_at", "2015-12-01 21:15:12.986467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:12 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=68" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"68"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 68]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "68"]]
  Rendered cart/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/68?adjustment=increase" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"68"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 68]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "68"]]
  Rendered cart/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fjzapy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/58bb31d92f9b9639abed2907b0a309a520151201-2529-18i7jk8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/58bb31d92f9b9639abed2907b0a309a520151201-2529-1jxi19t'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15fmb6c.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/58bb31d92f9b9639abed2907b0a309a520151201-2529-70zst8'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-ft7aak.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:13.271398"], ["price", "6.0"], ["created_at", "2015-12-01 21:15:13.464939"], ["updated_at", "2015-12-01 21:15:13.464939"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=69" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"69"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 69]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=69" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"69"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 69]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "69"]]
  Rendered cart/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
Started PATCH "/cart_stickers/69?adjustment=decrease" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"69"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 69]]
Redirected to http://www.example.com/cart
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "69"]]
  Rendered cart/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$j8d1/IxRzPABwPjOux2IbO2lvTW5xBM7qLgfSXCyxqS.s3qAruMkC"], ["role", 1], ["created_at", "2015-12-01 21:15:13.543518"], ["updated_at", "2015-12-01 21:15:13.543518"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 68]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-13t8ez9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9281835291822f9494aeb4a0243138c720151201-2529-nbpdnj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9281835291822f9494aeb4a0243138c720151201-2529-1nxtv9f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-2529-181027r.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9281835291822f9494aeb4a0243138c720151201-2529-1ej1k4d'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 307ms (Views: 5.9ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$vXBU/j7QxAibXoOgutNH.eZT4f/JmKn74MHHcPbRIzUBeSHKg7ENW"], ["role", 1], ["created_at", "2015-12-01 21:15:13.921279"], ["updated_at", "2015-12-01 21:15:13.921279"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 69]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:13 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-azn4sz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/91738d759fb76ec1950aecbd3473cc2420151201-2529-w6c5tg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/91738d759fb76ec1950aecbd3473cc2420151201-2529-1r74j7h'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-tr7f6o.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/91738d759fb76ec1950aecbd3473cc2420151201-2529-1u5z34s'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-28g8e2.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-2529-1hx48ua.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-12-01 21:15:14.089694"], ["created_at", "2015-12-01 21:15:14.279912"], ["updated_at", "2015-12-01 21:15:14.279912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 328ms (ActiveRecord: 2.8ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 69]]
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$mZ7sLz.HrtGvCJxEBMTM7u8CcbDdoCGHZtefZpPsMFXCniKLX40fi"], ["role", 1], ["created_at", "2015-12-01 21:15:14.307250"], ["updated_at", "2015-12-01 21:15:14.307250"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 70]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-m70oer.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/2573579fba1929e5265e3e2145acce6820151201-2529-okeh3w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/2573579fba1929e5265e3e2145acce6820151201-2529-gkqt5r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1tlyu53.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/2573579fba1929e5265e3e2145acce6820151201-2529-1rvy1wq'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1ywf6y6.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-pgtxh4.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:15:14.477916"], ["created_at", "2015-12-01 21:15:14.656543"], ["updated_at", "2015-12-01 21:15:14.656543"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 309ms (ActiveRecord: 2.9ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:14 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 70]]
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-ixqoa5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87e16729ba495e5cadc43449849fda3f20151201-2529-de5cfp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87e16729ba495e5cadc43449849fda3f20151201-2529-zmig1s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-xb5mqn.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/87e16729ba495e5cadc43449849fda3f20151201-2529-md2gom'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wah8vk.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:14.797614"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:14.990003"], ["updated_at", "2015-12-01 21:15:14.990003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=72" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"72"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 72]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "72"]]
  Rendered cart/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.5ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 26ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$sx4CtwyrtTtJD273UV1JvOlXMg1AKLh9GjKv5/XCjuM8SLzeWlqSK"], ["created_at", "2015-12-01 21:15:15.114428"], ["updated_at", "2015-12-01 21:15:15.114428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 71]]
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 71]]
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.4ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 71]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 71]]
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$EAa9KX5r1rSH9aaCNLY9RuntHTe9zksCGecqOaAn4ozMpbMQdft62"], ["role", 1], ["created_at", "2015-12-01 21:15:15.175257"], ["updated_at", "2015-12-01 21:15:15.175257"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.9ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 72]]
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 72]]
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$bRPixFG0RwIg5jaLb2IQK.LuW1DNvwnJ5RuTmZeMmxjYJbHYjdDxC"], ["role", 1], ["created_at", "2015-12-01 21:15:15.216377"], ["updated_at", "2015-12-01 21:15:15.216377"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.6ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 73]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 73]]
  Rendered users/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.2ms)
Started PATCH "/users/73" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"73"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 73) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$eQeIGAklM2whGnJ9SM5PUORCP.EAprGGD9pqsghCddIO7PGyFIqpu"], ["updated_at", "2015-12-01 21:15:15.280426"], ["id", 73]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 73]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1pdmko3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7b0444fd726aa8630dec12d9c011679820151201-2529-3ut50u'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7b0444fd726aa8630dec12d9c011679820151201-2529-196n1a6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fdj4lq.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7b0444fd726aa8630dec12d9c011679820151201-2529-1nqc7oy'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1v5fs28.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/777d307a2f2ba8ef0478629fb1f65bb220151201-2529-s7f6ut'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/777d307a2f2ba8ef0478629fb1f65bb220151201-2529-wy5p9h'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1bwi9vj.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/777d307a2f2ba8ef0478629fb1f65bb220151201-2529-jtbpzr'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
Started GET "/users/new" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$dn4jq6CeO6TGzaWeP5./U.yC65seT1B5rkrbphssIA8WsS5TRwO6K"], ["created_at", "2015-12-01 21:15:15.909410"], ["updated_at", "2015-12-01 21:15:15.909410"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 74]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$5FNL.JEz8HUwZPY78D6j8OUhZ4ewyWrLKC1Ol9shdhT2qw0RrYKHa"], ["created_at", "2015-12-01 21:15:15.929081"], ["updated_at", "2015-12-01 21:15:15.929081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:15 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 75]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$uBnVYkq.armHIf1gDks4EeDI9alap90SrhQap0cerUvOEQTm0F84S"], ["created_at", "2015-12-01 21:15:15.966077"], ["updated_at", "2015-12-01 21:15:15.966077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-nmlhsn.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c1512048ec614e33edb35a002d06d0be20151201-2529-1rzry57'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c1512048ec614e33edb35a002d06d0be20151201-2529-139j0x'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jsxvoo.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c1512048ec614e33edb35a002d06d0be20151201-2529-1tei5ww'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1soam14.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:16.077317"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:16.272203"], ["updated_at", "2015-12-01 21:15:16.272203"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=73" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"73"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 73]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 76]]
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "73"]]
  Rendered cart/index.html.erb within layouts/application (2.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 76]]
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.4ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$SZPS6kVDMuOiR/uVXlUnV.aA2XGGAu0jcA0l/XYZe7BxXaQCcQx6K"], ["role", 1], ["created_at", "2015-12-01 21:15:16.358735"], ["updated_at", "2015-12-01 21:15:16.358735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 77]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-ds7mje.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9e31fbc7c3514aef3d74749c879ed69c20151201-2529-1skxq4b'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9e31fbc7c3514aef3d74749c879ed69c20151201-2529-1f36bbr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-i184ho.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9e31fbc7c3514aef3d74749c879ed69c20151201-2529-fmdc5q'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1t8bhar.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-ndnhm0.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:15:16.521277"], ["created_at", "2015-12-01 21:15:16.705269"], ["updated_at", "2015-12-01 21:15:16.705269"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 315ms (ActiveRecord: 2.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 77]]
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers/74/edit" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 74]]
  Rendered admin/stickers/edit.html.erb within layouts/application (7.7ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.4ms)
Started PATCH "/stickers/74" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/074/original/uwgt.png?1449004516", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"74"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 74]]
Unpermitted parameters: category, image
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 74) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3[0m  [["retired", "t"], ["updated_at", "2015-12-01 21:15:16.764061"], ["id", 74]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 74) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers/74/edit" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 74]]
  Rendered admin/stickers/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$UTFVN7URyZaMdnmzoxU6QenenE0tp0CcRAbr52o2st1.QuoMpZzYK"], ["role", 1], ["created_at", "2015-12-01 21:15:16.794310"], ["updated_at", "2015-12-01 21:15:16.794310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 78]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:16 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1cgrkj9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8ed01e88548be62fcbcde749ab2d46bb20151201-2529-1mtscwn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8ed01e88548be62fcbcde749ab2d46bb20151201-2529-130rot'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1poqjmm.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/8ed01e88548be62fcbcde749ab2d46bb20151201-2529-1867kfc'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-1u6o0cy.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-2529-h4pha1.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:15:16.954770"], ["created_at", "2015-12-01 21:15:17.137866"], ["updated_at", "2015-12-01 21:15:17.137866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 312ms (ActiveRecord: 2.7ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 78]]
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.5ms)
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/75/edit" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"75"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 75]]
  Rendered admin/stickers/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.3ms)
Started PATCH "/stickers/75" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/075/original/uwgt.png?1449004516", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"75"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 75]]
Unpermitted parameters: category, image
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 75) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-12-01 21:15:17.205430"], ["id", 75]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 75) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$kp4ZXCIfQm7iMUIJHm9zQeuCvNjNpRxr5CH7XoiGUcpWj8MGBH9ci"], ["created_at", "2015-12-01 21:15:17.227081"], ["updated_at", "2015-12-01 21:15:17.227081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 79]]
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 79], ["created_at", "2015-12-01 21:15:17.259853"], ["updated_at", "2015-12-01 21:15:17.259853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 79]]
  Rendered orders/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.5ms)
Started GET "/orders/35" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"35"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mOrderSticker Load (0.4ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 35]]
  Rendered orders/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$B1yfE5workGIP.p5H74xU.nJwyTuoqpteZrGCDvKTVLOSjv4MekEm"], ["created_at", "2015-12-01 21:15:17.318337"], ["updated_at", "2015-12-01 21:15:17.318337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 80]]
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 80], ["created_at", "2015-12-01 21:15:17.359123"], ["updated_at", "2015-12-01 21:15:17.359123"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 80]]
  Rendered orders/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:15:17.381042"], ["updated_at", "2015-12-01 21:15:17.381042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:15:17.385994"], ["updated_at", "2015-12-01 21:15:17.385994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 14) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:15:17.390233"], ["updated_at", "2015-12-01 21:15:17.390233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1nukcie.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ccfb565986f54df3801d635fcdada8af20151201-2529-wdx1fq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ccfb565986f54df3801d635fcdada8af20151201-2529-1n6uvjg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1xf383g.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ccfb565986f54df3801d635fcdada8af20151201-2529-17nzkzb'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1o1rksf.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:17.509453"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:15:17.709600"], ["updated_at", "2015-12-01 21:15:17.709600"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/76" for 127.0.0.1 at 2015-12-01 14:15:17 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"76"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 76]]
  Rendered stickers/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1piugf0.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5d10fdd3825b9534321de3296be09f5120151201-2529-12i2rjg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5d10fdd3825b9534321de3296be09f5120151201-2529-1treavl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qncb5l.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5d10fdd3825b9534321de3296be09f5120151201-2529-1ql46ui'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1gf26lc.png'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:17.858235"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:15:18.060098"], ["updated_at", "2015-12-01 21:15:18.060098"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/77" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"77"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 77]]
  Rendered stickers/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1trfr12.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5032a0c38c7f169aea7c6e44e6ae900420151201-2529-1ghgma8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5032a0c38c7f169aea7c6e44e6ae900420151201-2529-1pwh56b'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1avxljt.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5032a0c38c7f169aea7c6e44e6ae900420151201-2529-1302w1t'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-iofi90.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:18.203138"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:15:18.398657"], ["updated_at", "2015-12-01 21:15:18.398657"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$cMPGXkdI85hu1fv.TAYvE.yFBm1OfXOKicm6HWicokueWobVmslGy"], ["created_at", "2015-12-01 21:15:18.417972"], ["updated_at", "2015-12-01 21:15:18.417972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-uzbmwe.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f552c5d27499da4c083afc659648c19920151201-2529-anaobp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f552c5d27499da4c083afc659648c19920151201-2529-12tadqi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1d5t61u.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f552c5d27499da4c083afc659648c19920151201-2529-1pkysrz'
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-168j84u.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:15:18.531098"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-12-01 21:15:18.732930"], ["updated_at", "2015-12-01 21:15:18.732930"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=78" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"78"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 78]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=79" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"79"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 79]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:18 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "78"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "79"]]
  Rendered cart/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-l9rhfc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ed5cb5756cd1eb989333eb7359e250dc20151201-2529-4tbmj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ed5cb5756cd1eb989333eb7359e250dc20151201-2529-1fe721m'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1fvz47y.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ed5cb5756cd1eb989333eb7359e250dc20151201-2529-124urvv'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-197wezz.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:19.002916"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:15:19.196486"], ["updated_at", "2015-12-01 21:15:19.196486"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$ZcQB6z4W97JXB7KBHrxXR.4mYXTRiwZt/cTZenI05vrfQDYOD13Z6"], ["created_at", "2015-12-01 21:15:19.213077"], ["updated_at", "2015-12-01 21:15:19.213077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 82]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 82]]
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=80" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"80"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 80]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 82]]
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=80" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"80"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 80]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 82]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "80"]]
  Rendered cart/index.html.erb within layouts/application (4.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 82]]
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by OrdersController#create as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 82], ["created_at", "2015-12-01 21:15:19.298036"], ["updated_at", "2015-12-01 21:15:19.298036"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["sticker_id", 80], ["order_id", 37], ["created_at", "2015-12-01 21:15:19.300226"], ["updated_at", "2015-12-01 21:15:19.300226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/orders
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 82]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-01 21:15:19.319205"], ["updated_at", "2015-12-01 21:15:19.319205"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-17fresm.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5720bbb870b316c22df12e0b872dacc520151201-2529-19ga9v4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5720bbb870b316c22df12e0b872dacc520151201-2529-1aj7bf5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-fphjjv.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5720bbb870b316c22df12e0b872dacc520151201-2529-1ga8hm3'
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-130q3un.png'
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:19.429804"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 16], ["created_at", "2015-12-01 21:15:19.619207"], ["updated_at", "2015-12-01 21:15:19.619207"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "geeky"]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 16]]
  Rendered categories/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)
Started GET "/stickers/81" for 127.0.0.1 at 2015-12-01 14:15:19 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"81"}
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 81]]
  Rendered stickers/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "beyonce"], ["password_digest", "$2a$04$gWdoC7n/I0OaPyUAMY9w3eqCq.T16WdyRmJA1lqhN7hr5h0Qi16Ga"], ["role", 1], ["created_at", "2015-12-01 21:15:19.687605"], ["updated_at", "2015-12-01 21:15:19.687605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1f1n0hb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d27fef922922fd22d609b33e4c6f9d6320151201-2529-rnqh6d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d27fef922922fd22d609b33e4c6f9d6320151201-2529-1vr4i9w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4sco1f.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d27fef922922fd22d609b33e4c6f9d6320151201-2529-tk43y5'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-af1g09.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:19.813098"], ["price", "6.0"], ["created_at", "2015-12-01 21:15:20.002963"], ["updated_at", "2015-12-01 21:15:20.002963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$2r9e6ONISpPTUx1bqaKadOszr0tkJlNLQrzoCSaC0/cv9GyENAbjG"], ["created_at", "2015-12-01 21:15:20.018942"], ["updated_at", "2015-12-01 21:15:20.018942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 84]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 84]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=82" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"82"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 82]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 84]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=82" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"82"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 82]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 84]]
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "82"]]
  Rendered cart/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 84]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 84], ["created_at", "2015-12-01 21:15:20.090171"], ["updated_at", "2015-12-01 21:15:20.090171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 82], ["order_id", 38], ["created_at", "2015-12-01 21:15:20.092174"], ["updated_at", "2015-12-01 21:15:20.092174"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 84]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-eg72g.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/cd660735768b413fda2b69b21d18843220151201-2529-1stanyb'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/cd660735768b413fda2b69b21d18843220151201-2529-15lg8fo'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-15lfd4m.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/cd660735768b413fda2b69b21d18843220151201-2529-tzcqgn'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-184q4pa.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:20.213867"], ["price", "6.0"], ["created_at", "2015-12-01 21:15:20.401853"], ["updated_at", "2015-12-01 21:15:20.401853"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=83" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"83"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 83]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "83"]]
  Rendered cart/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-01 21:15:20.464407"], ["updated_at", "2015-12-01 21:15:20.464407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-01 21:15:20.466612"], ["updated_at", "2015-12-01 21:15:20.466612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1mqmqz6.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5c87efafe4c23387f4696f9fe6ec032020151201-2529-18ociak'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5c87efafe4c23387f4696f9fe6ec032020151201-2529-q6f2mv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1aeia4i.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/5c87efafe4c23387f4696f9fe6ec032020151201-2529-9bqf7u'
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1p1gca8.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:20.579199"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 17], ["created_at", "2015-12-01 21:15:20.769585"], ["updated_at", "2015-12-01 21:15:20.769585"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1nn3cps.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6a53359fce0443ebbdff9be5294f5cb320151201-2529-1te0sr6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6a53359fce0443ebbdff9be5294f5cb320151201-2529-10f0v2b'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-3hgds9.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6a53359fce0443ebbdff9be5294f5cb320151201-2529-1vdzkzk'
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1ejjeuy.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:15:20.889494"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 18], ["created_at", "2015-12-01 21:15:21.082497"], ["updated_at", "2015-12-01 21:15:21.082497"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "companies"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 17]]
  Rendered categories/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.7ms)
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "products"]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 18]]
  Rendered categories/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$gXAmpAoe89up5N0/qIgGP.E92lkfprUm8LLa8MnPoP0u3QMueu7uq"], ["created_at", "2015-12-01 21:15:21.134062"], ["updated_at", "2015-12-01 21:15:21.134062"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 85], ["created_at", "2015-12-01 21:15:21.136338"], ["updated_at", "2015-12-01 21:15:21.136338"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$S14cRZszbji7SucTHEcNh.WTdbp2r4qdnPECZnGSv1s3wt6SgsXZS"], ["created_at", "2015-12-01 21:15:21.141015"], ["updated_at", "2015-12-01 21:15:21.141015"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Cancelled"], ["user_id", 85], ["created_at", "2015-12-01 21:15:21.143139"], ["updated_at", "2015-12-01 21:15:21.143139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$ZFljhZmhmJTgRLMXfD8tsOAk4HqKJiYf2dCFDe/pngajBMO0bUOT2"], ["created_at", "2015-12-01 21:15:21.149470"], ["updated_at", "2015-12-01 21:15:21.149470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Paid"], ["user_id", 87], ["created_at", "2015-12-01 21:15:21.151807"], ["updated_at", "2015-12-01 21:15:21.151807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$5Vt8C2vL7Z8cn5zmpYwEruik3QUW9Mai7LC6iUICCKjoV5Oi3We2O"], ["created_at", "2015-12-01 21:15:21.155458"], ["updated_at", "2015-12-01 21:15:21.155458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 87], ["created_at", "2015-12-01 21:15:21.157667"], ["updated_at", "2015-12-01 21:15:21.157667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-rmcodn.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/39fb74515591d5b7b04cbb642ea0124c20151201-2529-uekp4r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/39fb74515591d5b7b04cbb642ea0124c20151201-2529-1d69rkt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1qv7foy.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/39fb74515591d5b7b04cbb642ea0124c20151201-2529-odnkjs'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-camku7.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:21.268138"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:21.461942"], ["updated_at", "2015-12-01 21:15:21.461942"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (1.0ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.2ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "James"], ["password_digest", "$2a$04$U/DVDRhcMioUyoth1YIhoOVsMHXrneLjTHS21m6.78fgIwQv4fiLG"], ["created_at", "2015-12-01 21:15:21.551391"], ["updated_at", "2015-12-01 21:15:21.551391"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.2ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$EvcTYA8nOMiB8q0NWHj6GOotbIBfLwWb2bT4bR.EHA7VaDt0MPSvy"], ["role", 1], ["created_at", "2015-12-01 21:15:21.586149"], ["updated_at", "2015-12-01 21:15:21.586149"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:15:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (1.1ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 2.2ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$mWKDpyKnUwnedPGmCRem0uc/wLwbYvdGMIckFoNh7GfeWYySZD1k."], ["created_at", "2015-12-01 21:15:21.663244"], ["updated_at", "2015-12-01 21:15:21.663244"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-mgh7rc.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/127a1192947d5aa77c30b7a4ba34fe0d20151201-2529-1sx9yre'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/127a1192947d5aa77c30b7a4ba34fe0d20151201-2529-1cbezke'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1wvol4v.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/127a1192947d5aa77c30b7a4ba34fe0d20151201-2529-w7k1lo'
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-dwpfgp.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:21.785344"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:22.040966"], ["updated_at", "2015-12-01 21:15:22.040966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 91], ["created_at", "2015-12-01 21:15:22.058056"], ["updated_at", "2015-12-01 21:15:22.058056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["order_id", 43], ["sticker_id", 87], ["quantity", 1], ["created_at", "2015-12-01 21:15:22.060819"], ["updated_at", "2015-12-01 21:15:22.060819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 91]]
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 91]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started GET "/orders/43" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"43"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mOrderSticker Load (0.3ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 43]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 87]]
  Rendered orders/show.html.erb within layouts/application (6.5ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8bfhui.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf37a6fd01af8e1e41816fef771fb420151201-2529-eeu5ph'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf37a6fd01af8e1e41816fef771fb420151201-2529-1q9b4v9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-zqt16v.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf37a6fd01af8e1e41816fef771fb420151201-2529-1t5dh6g'
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-rnsvx5.png'
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:22.257647"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:22.499414"], ["updated_at", "2015-12-01 21:15:22.499414"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/88" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"88"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 88]]
  Rendered stickers/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14j2u46.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/487dc52a224853c604bdb21d24a47bb020151201-2529-ns9px5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/487dc52a224853c604bdb21d24a47bb020151201-2529-19mb2ad'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-14qm8cz.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/487dc52a224853c604bdb21d24a47bb020151201-2529-1eylplc'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1ezv6a9.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:22.699768"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:22.902349"], ["updated_at", "2015-12-01 21:15:22.902349"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/89" for 127.0.0.1 at 2015-12-01 14:15:22 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"89"}
  [1m[36mSticker Load (1.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 89]]
  Rendered stickers/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1eyl09e.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78d3028b481617d23b4e45770c89e1f20151201-2529-16m2hms'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78d3028b481617d23b4e45770c89e1f20151201-2529-er4t3i'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-hxc8pi.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a78d3028b481617d23b4e45770c89e1f20151201-2529-5j9ixu'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-6d3xpv.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:23.047722"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:23.242840"], ["updated_at", "2015-12-01 21:15:23.242840"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=90" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"90"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 90]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-urcvp3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf691bdb359168ab50b286e60eb64120151201-2529-vph98x'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf691bdb359168ab50b286e60eb64120151201-2529-b99ond'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1c12idh.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47bf691bdb359168ab50b286e60eb64120151201-2529-12obv1u'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-jbx40t.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:23.395579"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:23.596351"], ["updated_at", "2015-12-01 21:15:23.596351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1o1rhbq.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f0ae7e13447d5a1ee0f5a3e5cad4e9f20151201-2529-1jvj8mq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f0ae7e13447d5a1ee0f5a3e5cad4e9f20151201-2529-1psd19f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-16iob4z.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1f0ae7e13447d5a1ee0f5a3e5cad4e9f20151201-2529-vt45db'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-2529-1sp8ptx.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:15:23.718152"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 21:15:23.920235"], ["updated_at", "2015-12-01 21:15:23.920235"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.4ms)
Started POST "/cart_stickers?sticker_id=91" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"91"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 91]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=92" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"92"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 92]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:15:23 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "91"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "92"]]
  Rendered cart/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-8khe8u.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5166221a4cc36fc986f9d21f87b8f2520151201-2529-12dtplv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5166221a4cc36fc986f9d21f87b8f2520151201-2529-1m2v4cx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-1y66apn.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c5166221a4cc36fc986f9d21f87b8f2520151201-2529-o3sppq'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-2529-4t36w2.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:15:24.103809"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:15:24.297418"], ["updated_at", "2015-12-01 21:15:24.297418"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/93" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"93"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 93]]
  Rendered stickers/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$css2C6eHqyqAgWSrBXrxOO0ajcdmeAOE29FJC4N3IyDc02nQwIxf6"], ["created_at", "2015-12-01 21:15:24.333000"], ["updated_at", "2015-12-01 21:15:24.333000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Emily"], ["password_digest", "$2a$04$27twsY.P2UQLbW751egdoeyO/e9eIDhoCTIC0ox9PfRVqIteVjYy2"], ["created_at", "2015-12-01 21:15:24.337371"], ["updated_at", "2015-12-01 21:15:24.337371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 92], ["created_at", "2015-12-01 21:15:24.340116"], ["updated_at", "2015-12-01 21:15:24.340116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 93], ["created_at", "2015-12-01 21:15:24.342708"], ["updated_at", "2015-12-01 21:15:24.342708"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 92]]
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mOrder Load (0.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 92]]
  Rendered orders/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.8ms)
Started GET "/orders/44" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"44"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mOrderSticker Load (0.5ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 44]]
  Rendered orders/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 1.0ms)
Started GET "/orders/45" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 93]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:15:24 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 92]]
  Rendered orders/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.6ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 148ms (Views: 121.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
Started GET "/users/new" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (307.8ms)
Completed 200 OK in 325ms (Views: 312.8ms | ActiveRecord: 3.2ms)
Started POST "/users" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$YVQRRGKSF7uLTsP4l1euo.5hEoCDChmJwnP53mCOFZANOUHFhfhXe"], ["created_at", "2015-12-01 21:32:17.753568"], ["updated_at", "2015-12-01 21:32:17.753568"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 28ms (ActiveRecord: 1.5ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 94]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 13ms (Views: 5.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$vOTrSlA.0NCkenkMxIMEOua406eIdGGOUku0W3x04uC92Vtxah0xa"], ["created_at", "2015-12-01 21:32:17.783440"], ["updated_at", "2015-12-01 21:32:17.783440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:17 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 95]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$DT4zwEqBMeYzsMwGC42exO92stswfpBhRPOwkKt0N/P2TcPgx4tyC"], ["created_at", "2015-12-01 21:32:17.827655"], ["updated_at", "2015-12-01 21:32:17.827655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ukbztj.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0cadf93d8cf536a2098973f7c64863f020151201-3418-18q6zjt'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0cadf93d8cf536a2098973f7c64863f020151201-3418-k4veu5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-162298w.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/0cadf93d8cf536a2098973f7c64863f020151201-3418-1by6m6i'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node_js' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3n1p2l.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Node_js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:18.002068"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:18.191167"], ["updated_at", "2015-12-01 21:32:18.191167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=94" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"94"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 94]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 96]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.6ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "94"]]
  Rendered cart/index.html.erb within layouts/application (9.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 96]]
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.7ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by SessionController#destroy as HTML
Redirected to http://www.example.com/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-lj2h8x.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97e520d332a8a63054ed217f770f50ab20151201-3418-ztyd3o'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97e520d332a8a63054ed217f770f50ab20151201-3418-oafdh5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wbv3if.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/97e520d332a8a63054ed217f770f50ab20151201-3418-17rjv8w'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-abob5o.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:18.413521"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:18.595133"], ["updated_at", "2015-12-01 21:32:18.595133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-78w4y.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b8763850a9dab0ef9a760a07049f217820151201-3418-5ex6r8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b8763850a9dab0ef9a760a07049f217820151201-3418-13nv5e1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-128y7fu.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/b8763850a9dab0ef9a760a07049f217820151201-3418-o6zapr'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-1rkrc1z.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:32:18.713830"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 21:32:18.912035"], ["updated_at", "2015-12-01 21:32:18.912035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=95" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"95"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 95]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=96" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"96"}
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 96]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.4ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:18 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "95"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "96"]]
  Rendered cart/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1tzukeg.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1e12e14e021cf099c5232e7cda43822420151201-3418-mpbwrr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1e12e14e021cf099c5232e7cda43822420151201-3418-14vwxz0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n26qx5.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1e12e14e021cf099c5232e7cda43822420151201-3418-2lbihs'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-oquso4.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:19.081888"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:19.263728"], ["updated_at", "2015-12-01 21:32:19.263728"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.5ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=97" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"97"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 97]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=97" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"97"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 97]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "97"]]
  Rendered cart/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started DELETE "/cart_stickers/97" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by CartStickersController#destroy as HTML
  Parameters: {"id"=>"97"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 97]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:19 -0700
Processing by CartController#index as HTML
  Rendered cart/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-juc48c.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/76ff27534517908794f102b268d30a7320151201-3418-1s0t3j'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/76ff27534517908794f102b268d30a7320151201-3418-1y9x6zj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5k750m.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/76ff27534517908794f102b268d30a7320151201-3418-q1e9nf'
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-caslzb.png'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-583y46.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db900552f0d8e445bc0b03aaa09802e720151201-3418-18n8xxa'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db900552f0d8e445bc0b03aaa09802e720151201-3418-hu1gji'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w9qnx.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/db900552f0d8e445bc0b03aaa09802e720151201-3418-1x5nez3'
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" IS NULL LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-tuywws.png'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1wy6buz.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d5b048c6ae413bf1cc9d2de2939682fb20151201-3418-igzz14'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d5b048c6ae413bf1cc9d2de2939682fb20151201-3418-efo873'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ewn0m0.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d5b048c6ae413bf1cc9d2de2939682fb20151201-3418-1532t1l'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1vyef2h.png'
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$UoYoQp0fh3ToiJMr0U8hh.jBoo7BF.wnpk/gg.wdG7GHcWK7.w1k."], ["created_at", "2015-12-01 21:32:20.221717"], ["updated_at", "2015-12-01 21:32:20.221717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Emily"], ["password_digest", "$2a$04$PuhblyeVDF1C7J8zZikcmuDlkb4ncQekuPa5MOSH5PNTqNw9op81m"], ["created_at", "2015-12-01 21:32:20.225795"], ["updated_at", "2015-12-01 21:32:20.225795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 97], ["created_at", "2015-12-01 21:32:20.249284"], ["updated_at", "2015-12-01 21:32:20.249284"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 98], ["created_at", "2015-12-01 21:32:20.254274"], ["updated_at", "2015-12-01 21:32:20.254274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 97]]
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.9ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 97]]
  Rendered orders/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.7ms)
Started GET "/orders/46" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mOrderSticker Load (0.4ms)[0m  SELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1  [["order_id", 46]]
  Rendered orders/show.html.erb within layouts/application (4.7ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.9ms)
Started GET "/orders/47" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"47"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 98]]
Redirected to http://www.example.com/orders
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 97]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$3WziyBcrFRuG4KU/4JW2aOVk/DALRhg2Zq9IC/RI96/GdC/BsFgRS"], ["role", 1], ["created_at", "2015-12-01 21:32:20.341068"], ["updated_at", "2015-12-01 21:32:20.341068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$ycP./ERtzutzdkDr.cC.d.rZBMPIWMBpmYIXxLJZxQlKCeePPQDci"], ["created_at", "2015-12-01 21:32:20.394334"], ["updated_at", "2015-12-01 21:32:20.394334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 100]]
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 100]]
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 100]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 100]]
  Rendered public/404.html within layouts/application (0.3ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18rjkjo.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aebf2ab8bbb144d632fe44006277345920151201-3418-3j85qn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aebf2ab8bbb144d632fe44006277345920151201-3418-2f15ef'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rwjwkj.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/aebf2ab8bbb144d632fe44006277345920151201-3418-1qs58sy'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-4v6fq1.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:20.581824"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:20.765708"], ["updated_at", "2015-12-01 21:32:20.765708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=98" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"98"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 98]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "98"]]
  Rendered cart/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$pEsYS3xooAMgc9vgU7a40OU6IlXmVC/tqSh55.tF.d9kHCGZ0VMmS"], ["created_at", "2015-12-01 21:32:20.828530"], ["updated_at", "2015-12-01 21:32:20.828530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Paid"], ["user_id", 101], ["created_at", "2015-12-01 21:32:20.831103"], ["updated_at", "2015-12-01 21:32:20.831103"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$g5YcoGRiYM1y1GMmw/mdX.YX2NRfV8Paoamx4dfxqYQszMZYa3m7G"], ["created_at", "2015-12-01 21:32:20.835539"], ["updated_at", "2015-12-01 21:32:20.835539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 101], ["created_at", "2015-12-01 21:32:20.837563"], ["updated_at", "2015-12-01 21:32:20.837563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$y5iTE88i1i.U2UH2h/Wd6eB/4seRmf2E.mr8OfYfH1d8QS7pMxQwO"], ["created_at", "2015-12-01 21:32:20.843675"], ["updated_at", "2015-12-01 21:32:20.843675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 103], ["created_at", "2015-12-01 21:32:20.846623"], ["updated_at", "2015-12-01 21:32:20.846623"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$X.uGwucxZVZutMJsVES24uYPfeF3avbTGZ9z/hjHpaC6DPx9ZG2DO"], ["created_at", "2015-12-01 21:32:20.852938"], ["updated_at", "2015-12-01 21:32:20.852938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Cancelled"], ["user_id", 103], ["created_at", "2015-12-01 21:32:20.855262"], ["updated_at", "2015-12-01 21:32:20.855262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$dNqt7PXLFrjdUfQ1AO7nPO11BFIzyLnSpFCiSk0oy12/BfNZplYlC"], ["role", 1], ["created_at", "2015-12-01 21:32:20.861382"], ["updated_at", "2015-12-01 21:32:20.861382"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 105]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 105]]
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$h/QEL4Z1AMMT9yPiMH0duuhphFFJi3pix9ew/59P3hC3gSGcJfjIa"], ["role", 1], ["created_at", "2015-12-01 21:32:20.903828"], ["updated_at", "2015-12-01 21:32:20.903828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 106]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by UsersController#edit as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 106]]
  Rendered users/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started PATCH "/users/106" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"106"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 106) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$NMUbsoG6zkXny9w2QsFkA.U92Wjgc7Fo.XSrOfySShUq5H5d4MRn6"], ["updated_at", "2015-12-01 21:32:20.960147"], ["id", 106]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:32:20 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 106]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n2bdiw.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7fb61062c5a81088ef9d748fe2cecb7020151201-3418-ih108u'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7fb61062c5a81088ef9d748fe2cecb7020151201-3418-epzh2z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-ieljh5.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7fb61062c5a81088ef9d748fe2cecb7020151201-3418-7i8ktv'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-18w817l.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:21.084768"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:32:21.274794"], ["updated_at", "2015-12-01 21:32:21.274794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$n9n2FldTtQxwLRGNE2x9AO22tIMQ.ZYcsriNx35m9cAegm/P0CSBK"], ["created_at", "2015-12-01 21:32:21.289690"], ["updated_at", "2015-12-01 21:32:21.289690"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-fh1q44.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/43fab6a5b89468377ff2c6bb224b303220151201-3418-177yr3z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/43fab6a5b89468377ff2c6bb224b303220151201-3418-4a5a5v'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-tweujm.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/43fab6a5b89468377ff2c6bb224b303220151201-3418-chn9eo'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14aucb5.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:32:21.401127"], ["description", "React.js logo"], ["price", "3.0"], ["created_at", "2015-12-01 21:32:21.588576"], ["updated_at", "2015-12-01 21:32:21.588576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=99" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"99"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 99]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=100" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"100"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 100]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:21 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mSticker Load (0.1ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "99"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "100"]]
  Rendered cart/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-11a67th.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f94374c04698c34f96eba74a674290ae20151201-3418-1lzaqlq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f94374c04698c34f96eba74a674290ae20151201-3418-ox9qrp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1d1i2dj.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/f94374c04698c34f96eba74a674290ae20151201-3418-sjuncz'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1kq5c4.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:22.717782"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:32:22.901686"], ["updated_at", "2015-12-01 21:32:22.901686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/101" for 127.0.0.1 at 2015-12-01 14:32:22 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 101]]
  Rendered stickers/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-tmr43r.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd34fee00b3b2583ee7c1afaa3e896ed20151201-3418-14zwi1s'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd34fee00b3b2583ee7c1afaa3e896ed20151201-3418-1yrw6gm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3f605s.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dd34fee00b3b2583ee7c1afaa3e896ed20151201-3418-cdend4'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fuyreq.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:23.038560"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:32:23.224807"], ["updated_at", "2015-12-01 21:32:23.224807"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/102" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"102"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 102]]
  Rendered stickers/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-7xv8t8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/120a3fb457fd71d4ebc11718f833112c20151201-3418-5voyu2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/120a3fb457fd71d4ebc11718f833112c20151201-3418-b9jphv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-182oqz5.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/120a3fb457fd71d4ebc11718f833112c20151201-3418-22ctgm'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-c1oplh.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "retired", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:23.402388"], ["price", "6.0"], ["description", "Node.js logo"], ["retired", "t"], ["created_at", "2015-12-01 21:32:23.581100"], ["updated_at", "2015-12-01 21:32:23.581100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$dXIFEoN2PilHYcnQFXLu..6imdrSQtveEOZ4mTsgu5yk72W/cscGa"], ["created_at", "2015-12-01 21:32:23.595668"], ["updated_at", "2015-12-01 21:32:23.595668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 108]]
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 108]]
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=103" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"103"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 103]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 108]]
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.5ms)
Started POST "/cart_stickers?sticker_id=103" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"103"}
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 103]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 108]]
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.6ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "103"]]
  Rendered cart/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 108]]
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 108], ["created_at", "2015-12-01 21:32:23.672400"], ["updated_at", "2015-12-01 21:32:23.672400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 103], ["order_id", 52], ["created_at", "2015-12-01 21:32:23.674273"], ["updated_at", "2015-12-01 21:32:23.674273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:23 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 108]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-01 21:32:23.788586"], ["updated_at", "2015-12-01 21:32:23.788586"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-01 21:32:23.792021"], ["updated_at", "2015-12-01 21:32:23.792021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-fh0lzk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542e29f2c8d443226e33ea030b4a851220151201-3418-da0i61'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542e29f2c8d443226e33ea030b4a851220151201-3418-gcwxv6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-zcgrdl.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542e29f2c8d443226e33ea030b4a851220151201-3418-1w7iu1w'
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Node.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-16cf3nx.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "Node.js"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:23.904738"], ["description", "Node.js logo"], ["price", "2.0"], ["category_id", 19], ["created_at", "2015-12-01 21:32:24.086719"], ["updated_at", "2015-12-01 21:32:24.086719"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-13iv2mt.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e48bcfa21fcffbd9df9f08a701f1591720151201-3418-1emtmn8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e48bcfa21fcffbd9df9f08a701f1591720151201-3418-wo69kc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-14zvsrn.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e48bcfa21fcffbd9df9f08a701f1591720151201-3418-1kgz22u'
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'React.js' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-wkeq6u.png'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "React.js"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:32:24.212940"], ["description", "React.js logo"], ["price", "3.0"], ["category_id", 20], ["created_at", "2015-12-01 21:32:24.408583"], ["updated_at", "2015-12-01 21:32:24.408583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  Rendered categories/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.3ms)
Started GET "/categories/companies" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"companies"}
  [1m[35mCategory Load (0.3ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1  [["slug", "companies"]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1[0m  [["category_id", 19]]
  Rendered categories/show.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.6ms)
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/categories/products" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"products"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "products"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 20]]
  Rendered categories/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$tKmOEc1cPiUo30Q7JWCgdO916ut2PXCpFIqiTjUMpbbSUyjX.oRXa"], ["created_at", "2015-12-01 21:32:24.474572"], ["updated_at", "2015-12-01 21:32:24.474572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 109]]
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 109], ["created_at", "2015-12-01 21:32:24.506460"], ["updated_at", "2015-12-01 21:32:24.506460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 109]]
  Rendered orders/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms)
Started GET "/orders/53" for 127.0.0.1 at 2015-12-01 14:32:24 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"53"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mOrderSticker Load (0.2ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 53]]
  Rendered orders/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-g0xgk.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47e0cf357710e5e319e162febae7c52120151201-3418-12xugbx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47e0cf357710e5e319e162febae7c52120151201-3418-1lw5cjh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-xtdvc6.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/47e0cf357710e5e319e162febae7c52120151201-3418-d1mjgp'
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-hwae4w.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ffb589573dd6f00dd8c5a0bb666ea38620151201-3418-7ihebr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ffb589573dd6f00dd8c5a0bb666ea38620151201-3418-1chqu5f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13ivqjl.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/ffb589573dd6f00dd8c5a0bb666ea38620151201-3418-v7ikte'
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$c8QXYv4frpXk0kDx39xWMugIQ7Iu1b4wuq3Ux9zCgzUbfjNLCRKGq"], ["role", 1], ["created_at", "2015-12-01 21:32:25.107823"], ["updated_at", "2015-12-01 21:32:25.107823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "sekhar"], ["password_digest", "$2a$04$U5q94GFdHHsPmXgRJHl1qed5y84RLO/wPrlHj0jOuHzt1T6LY6Zm."], ["created_at", "2015-12-01 21:32:25.112336"], ["updated_at", "2015-12-01 21:32:25.112336"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 111], ["created_at", "2015-12-01 21:32:25.115433"], ["updated_at", "2015-12-01 21:32:25.115433"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 111], ["created_at", "2015-12-01 21:32:25.117498"], ["updated_at", "2015-12-01 21:32:25.117498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 110], ["created_at", "2015-12-01 21:32:25.119877"], ["updated_at", "2015-12-01 21:32:25.119877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "cancelled"], ["user_id", 110], ["created_at", "2015-12-01 21:32:25.122925"], ["updated_at", "2015-12-01 21:32:25.122925"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$LrtH0e5HAuI7cBGFcGB0neRqT3tvKmsgogZtIGVW59pgVWqsJAIAW"], ["created_at", "2015-12-01 21:32:25.171254"], ["updated_at", "2015-12-01 21:32:25.171254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-13mv7m1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542bd49fb969abce54afcbf10c4d7e0920151201-3418-kp6myc'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542bd49fb969abce54afcbf10c4d7e0920151201-3418-l5lm9n'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-bfpe64.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/542bd49fb969abce54afcbf10c4d7e0920151201-3418-i1fpuy'
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-10gqqqz.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:25.281811"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:25.471390"], ["updated_at", "2015-12-01 21:32:25.471390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 112], ["created_at", "2015-12-01 21:32:25.483081"], ["updated_at", "2015-12-01 21:32:25.483081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "order_stickers" ("order_id", "sticker_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["order_id", 58], ["sticker_id", 106], ["quantity", 1], ["created_at", "2015-12-01 21:32:25.485081"], ["updated_at", "2015-12-01 21:32:25.485081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 112]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 112]]
  Rendered orders/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started GET "/orders/58" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"58"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mOrderSticker Load (0.3ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 58]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 106]]
  Rendered orders/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "James"], ["password_digest", "$2a$04$4Q2foRJFXxa/d9FSfZltEOPx.UJ.H.7lgyaK6W54tbqyBFFZA3P/q"], ["created_at", "2015-12-01 21:32:25.539770"], ["updated_at", "2015-12-01 21:32:25.539770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$wY20HNG2CNkhlVDZCFtIc.grVicDn.LaDQANmoYH7Zb0lVDRTOTka"], ["role", 1], ["created_at", "2015-12-01 21:32:25.555493"], ["updated_at", "2015-12-01 21:32:25.555493"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-01 21:32:25.583261"], ["updated_at", "2015-12-01 21:32:25.583261"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p28ycy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/37cf6615a5ea49853229a840d7629e0c20151201-3418-v0tam0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/37cf6615a5ea49853229a840d7629e0c20151201-3418-vlv72r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-m8c1ip.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/37cf6615a5ea49853229a840d7629e0c20151201-3418-1u3ldhg'
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1mwdj0i.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "description", "price", "category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:25.696995"], ["description", "Awesome Node.js sticker"], ["price", "2.0"], ["category_id", 21], ["created_at", "2015-12-01 21:32:25.882005"], ["updated_at", "2015-12-01 21:32:25.882005"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by CategoriesController#index as HTML
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  Rendered categories/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/categories/geeky" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by CategoriesController#show as HTML
  Parameters: {"slug"=>"geeky"}
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1 LIMIT 1[0m  [["slug", "geeky"]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers" WHERE "stickers"."category_id" = $1  [["category_id", 21]]
  Rendered categories/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms)
Started GET "/stickers/107" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"107"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 107]]
  Rendered stickers/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$hPflyu6AejzpUJ3XA0FmHORggKvs.kZwmKy7Z1DxYcqsuzGEJlBui"], ["role", 1], ["created_at", "2015-12-01 21:32:25.927915"], ["updated_at", "2015-12-01 21:32:25.927915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 115]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:25 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1yr3k2d.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6adf9b31929049eccea4daf7e21e7a7c20151201-3418-gsmlxg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6adf9b31929049eccea4daf7e21e7a7c20151201-3418-o9eyqu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1pwarst.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/6adf9b31929049eccea4daf7e21e7a7c20151201-3418-ybhxtj'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-18oneaz.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-1nwxf7v.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 21:32:26.118284"], ["created_at", "2015-12-01 21:32:26.375264"], ["updated_at", "2015-12-01 21:32:26.375264"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 426ms (ActiveRecord: 3.3ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 115]]
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.5ms)
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$O2WoXACNYTu/C9jOhnzfh.H7aeq4KBSmqOY/2s48zsupDR7yeGZmO"], ["role", 1], ["created_at", "2015-12-01 21:32:26.442218"], ["updated_at", "2015-12-01 21:32:26.442218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 116]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://ruby.pe/img/rubyperu_logo.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mCategory Load (0.4ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-v0ekkv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4d455bd16b61a9b83be98563627e82c320151201-3418-1eiyh3i'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' -auto-orient -resize "x200" -crop "200x200+34+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4d455bd16b61a9b83be98563627e82c320151201-3418-1pnkwn5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-p1xt6n.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/4d455bd16b61a9b83be98563627e82c320151201-3418-j4m39h'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.4ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-4j9kca.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/e1da32ae2104e3936596bd1035b1813820151201-3418-ootg8t.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "rubyperu_logo.png"], ["image_content_type", "image/png"], ["image_file_size", 10308], ["image_updated_at", "2015-12-01 21:32:26.618557"], ["created_at", "2015-12-01 21:32:26.868014"], ["updated_at", "2015-12-01 21:32:26.868014"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 392ms (ActiveRecord: 2.9ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 116]]
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.5ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$hKVIWf9paPF3rLqX0bqIL.XtZCkveeilQoltlnmeUE6REltPb/3bS"], ["created_at", "2015-12-01 21:32:26.915718"], ["updated_at", "2015-12-01 21:32:26.915718"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 117]]
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 117], ["created_at", "2015-12-01 21:32:26.946993"], ["updated_at", "2015-12-01 21:32:26.946993"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:26 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 117]]
  Rendered orders/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-r17dg2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3f80398e2362bc2b8486399784d9595020151201-3418-do5uhl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3f80398e2362bc2b8486399784d9595020151201-3418-60kshu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-p1k2on.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3f80398e2362bc2b8486399784d9595020151201-3418-1x43qxk'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-rf7zng.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:27.082848"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:27.273390"], ["updated_at", "2015-12-01 21:32:27.273390"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=110" for 127.0.0.1 at 2015-12-01 14:32:27 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"110"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 110]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:27 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1c6mxue.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c166ab992f814710868e10c40182bf5f20151201-3418-bfswko'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c166ab992f814710868e10c40182bf5f20151201-3418-1xhz3om'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1krihmu.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c166ab992f814710868e10c40182bf5f20151201-3418-w49zal'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.5ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-mj6b1a.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:27.425248"], ["price", "0.5"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:27.616276"], ["updated_at", "2015-12-01 21:32:27.616276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/111" for 127.0.0.1 at 2015-12-01 14:32:27 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"111"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 111]]
  Rendered stickers/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-11lxwbo.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/66958dad4fbc9467c55bc6bf8de329c920151201-3418-1lu9t0o'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/66958dad4fbc9467c55bc6bf8de329c920151201-3418-1f2ogit'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1q68ipr.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/66958dad4fbc9467c55bc6bf8de329c920151201-3418-40b1li'
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xq5zgh.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:27.751021"], ["price", "6.99"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:27.943768"], ["updated_at", "2015-12-01 21:32:27.943768"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stickers/112" for 127.0.0.1 at 2015-12-01 14:32:27 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"112"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 112]]
  Rendered stickers/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-vsh8fv.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/464df579ca8a463e97bc812126141e2720151201-3418-esq7uv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/464df579ca8a463e97bc812126141e2720151201-3418-z7pfsi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1xmcs6x.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/464df579ca8a463e97bc812126141e2720151201-3418-1bv0qmm'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-vrcy3s.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:28.081468"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:28.271582"], ["updated_at", "2015-12-01 21:32:28.271582"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stickers/113" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by StickersController#show as HTML
  Parameters: {"id"=>"113"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 113]]
  Rendered stickers/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1aloudm.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7f5259635ecc747843500f45fd53f68420151201-3418-10iqdzi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7f5259635ecc747843500f45fd53f68420151201-3418-uccr25'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ic7l7e.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7f5259635ecc747843500f45fd53f68420151201-3418-16jb6e5'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ukn460.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:28.416138"], ["price", "5.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:28.606714"], ["updated_at", "2015-12-01 21:32:28.606714"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-ste8t8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c7f38a437590c9396ec460c102941bbb20151201-3418-1i7vsi2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c7f38a437590c9396ec460c102941bbb20151201-3418-tq4ibh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-jbvvj6.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/c7f38a437590c9396ec460c102941bbb20151201-3418-kijydq'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Reactjs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/bfc36183ba253554e36d41c6dc626c5a20151201-3418-1518k1n.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "Reactjs"], ["image_file_name", "react-js.png"], ["image_content_type", "image/png"], ["image_file_size", 8659], ["image_updated_at", "2015-12-01 21:32:28.728840"], ["price", "8.0"], ["description", "React.js logo"], ["created_at", "2015-12-01 21:32:28.929412"], ["updated_at", "2015-12-01 21:32:28.929412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=114" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"114"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 114]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=115" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"115"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 115]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:28 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "114"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "115"]]
  Rendered cart/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:32:29.006641"], ["updated_at", "2015-12-01 21:32:29.006641"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:32:29.013564"], ["updated_at", "2015-12-01 21:32:29.013564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:32:29.017817"], ["updated_at", "2015-12-01 21:32:29.017817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 24) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$S4qkWjIjsr00r39f6nf5G.RKXK8dOYFH0e.cXukKzdNzIQz5GlpbC"], ["role", 1], ["created_at", "2015-12-01 21:32:29.025535"], ["updated_at", "2015-12-01 21:32:29.025535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 118]]
  Rendered admin/stickers/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1yoaq7t.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/873598920f034898e0eb69435853fe0020151201-3418-tlsuj3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/873598920f034898e0eb69435853fe0020151201-3418-1kab2jl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zbo8bi.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/873598920f034898e0eb69435853fe0020151201-3418-q7cxsu'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-15qn0ps.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-xsjcz4.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:32:29.182725"], ["created_at", "2015-12-01 21:32:29.357547"], ["updated_at", "2015-12-01 21:32:29.357547"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 302ms (ActiveRecord: 2.4ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 118]]
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered admin/stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers"  ORDER BY "stickers"."id" DESC LIMIT 1
Started GET "/admin/stickers/116/edit" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"116"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 116]]
  Rendered admin/stickers/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.4ms)
Started PATCH "/stickers/116" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"Edited Sticker", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/116/original/uwgt.png?1449005549", "retired"=>"false"}, "commit"=>"Update Sticker", "id"=>"116"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 116]]
Unpermitted parameters: category, image
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 116) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "stickers" SET "description" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["description", "Edited Sticker"], ["updated_at", "2015-12-01 21:32:29.415869"], ["id", 116]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 116) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$4kIkh9okAFlnNTY5hHudgOlgOXvkvh3VJqm2WIOi/4DTSE1CiZyem"], ["role", 1], ["created_at", "2015-12-01 21:32:29.434720"], ["updated_at", "2015-12-01 21:32:29.434720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 119]]
  Rendered admin/stickers/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mCategory Load (0.2ms)[0m  SELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1  [["slug", "ruby"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-dzwogt.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9aff0ec6360482e9b41b06ddc9d024e620151201-3418-1ml2sx6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9aff0ec6360482e9b41b06ddc9d024e620151201-3418-1jvlsp4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1e8kyd4.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/9aff0ec6360482e9b41b06ddc9d024e620151201-3418-gyie9h'
Unpermitted parameter: category
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1  [["title", "New Sticker"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-fqlau8.png'
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35mSticker Exists (0.2ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-16vn34m.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:32:29.587926"], ["created_at", "2015-12-01 21:32:29.760770"], ["updated_at", "2015-12-01 21:32:29.760770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stickers
Completed 302 Found in 297ms (ActiveRecord: 2.5ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 119]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms)
Started GET "/admin/stickers/117/edit" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"117"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mSticker Load (0.1ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 117]]
  Rendered admin/stickers/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
Started PATCH "/stickers/117" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by StickersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"", "description"=>"New sticker description", "price"=>"5.0", "image"=>"/system/stickers/images/000/000/117/original/uwgt.png?1449005549", "retired"=>"true"}, "commit"=>"Update Sticker", "id"=>"117"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 117]]
Unpermitted parameters: category, image
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 117) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "stickers" SET "retired" = $1, "updated_at" = $2 WHERE "stickers"."id" = $3  [["retired", "t"], ["updated_at", "2015-12-01 21:32:29.812048"], ["id", 117]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE ("stickers"."title" = 'New Sticker' AND "stickers"."id" != 117) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/stickers
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
Started GET "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered admin/stickers/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.5ms)
Started GET "/admin/stickers/117/edit" for 127.0.0.1 at 2015-12-01 14:32:29 -0700
Processing by Admin::StickersController#edit as HTML
  Parameters: {"id"=>"117"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 117]]
  Rendered admin/stickers/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 17ms (Views: 4.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-4a5cps.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3c5daf6f77620d85f0cbb370d834d26520151201-3418-1oayg1g'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3c5daf6f77620d85f0cbb370d834d26520151201-3418-79dyuw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1fu48i5.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/3c5daf6f77620d85f0cbb370d834d26520151201-3418-ei0vtl'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-3liw9r.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:29.956478"], ["price", "6.0"], ["description", "Node.js logo"], ["created_at", "2015-12-01 21:32:30.148613"], ["updated_at", "2015-12-01 21:32:30.148613"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$xy7UfFSWMbmxDgagez9L0u.6NGEK/PXiIEtcIjpKwHO/2CRvnmfDO"], ["role", 1], ["created_at", "2015-12-01 21:32:30.184888"], ["updated_at", "2015-12-01 21:32:30.184888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 120]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5", "image"=>"http://devstickers.com/assets/img/pro/uwgt.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-1ikz4bi.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/eb6da70c20eef1859ab999a40d0d7e3f20151201-3418-yms36h'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/eb6da70c20eef1859ab999a40d0d7e3f20151201-3418-rumu92'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-zclypo.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/eb6da70c20eef1859ab999a40d0d7e3f20151201-3418-fqj07m'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-uyflug.png'
  [1m[35mCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/1ae5010fbdac8d39bf94cfaa72ca317420151201-3418-130jrvh.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.0"], ["image_file_name", "uwgt.png"], ["image_content_type", "image/png"], ["image_file_size", 3522], ["image_updated_at", "2015-12-01 21:32:30.357963"], ["created_at", "2015-12-01 21:32:30.540071"], ["updated_at", "2015-12-01 21:32:30.540071"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 318ms (ActiveRecord: 2.6ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 120]]
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$W5D2omiqMbageQnDy6UxBeP.5Qpwqkb84C0aCIL5vO4Gb8z4mjUn."], ["role", 1], ["created_at", "2015-12-01 21:32:30.580580"], ["updated_at", "2015-12-01 21:32:30.580580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 121]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"5.5", "image"=>"http://devstickers.com/assets/img/pro/vib8.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-dvm0of.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/44a7ae821db9f45f5f26e479cb2bb35f20151201-3418-d8gbjz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/44a7ae821db9f45f5f26e479cb2bb35f20151201-3418-2yomb8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-4by1a7.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/44a7ae821db9f45f5f26e479cb2bb35f20151201-3418-1a28rp5'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-w38yhs.png'
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'New Sticker' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/a7fcde4315c530baf3ce5f4c4389947120151201-3418-1ehip5c.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "description", "price", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "New Sticker"], ["description", "New sticker description"], ["price", "5.5"], ["image_file_name", "vib8.png"], ["image_content_type", "image/png"], ["image_file_size", 7977], ["image_updated_at", "2015-12-01 21:32:30.747732"], ["created_at", "2015-12-01 21:32:30.933256"], ["updated_at", "2015-12-01 21:32:30.933256"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/stickers
Completed 302 Found in 322ms (ActiveRecord: 2.9ms)
Started GET "/stickers" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 121]]
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$cNwmTDDLf7ugbt9Pspbdjehqa56KncI3Y5Lba4UeNls8wsn515VnW"], ["role", 1], ["created_at", "2015-12-01 21:32:30.968709"], ["updated_at", "2015-12-01 21:32:30.968709"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:32:30 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 122]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.2ms)
Started POST "/admin/stickers" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by Admin::StickersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "sticker"=>{"title"=>"New Sticker", "category"=>"Ruby", "description"=>"New sticker description", "price"=>"0", "image"=>"http://devstickers.com/assets/img/pro/kg7l.png"}, "commit"=>"Create Sticker"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT  "categories".* FROM "categories" WHERE "categories"."slug" = $1  ORDER BY "categories"."id" ASC LIMIT 1[0m  [["slug", "ruby"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Unpermitted parameter: category
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-7tkj42.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dbecc35fe405b7e365ed0b378c6822e620151201-3418-thjg7r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dbecc35fe405b7e365ed0b378c6822e620151201-3418-z6kky0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7552266405a6dd9900d924919d9caa4b20151201-3418-f953lk.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/dbecc35fe405b7e365ed0b378c6822e620151201-3418-s1mgfu'
Unpermitted parameter: category
  [1m[36mSticker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = $1 LIMIT 1[0m  [["title", "New Sticker"]]
  Rendered admin/stickers/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 303ms (Views: 5.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1t751y3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7ab537d8da9655d351a18f71cc03428220151201-3418-1ft4eqk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7ab537d8da9655d351a18f71cc03428220151201-3418-1m1xqez'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-5vgrvp.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/7ab537d8da9655d351a18f71cc03428220151201-3418-1t7aafq'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1dqtxa5.png'
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:31.433106"], ["price", "6.0"], ["created_at", "2015-12-01 21:32:31.625056"], ["updated_at", "2015-12-01 21:32:31.625056"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=121" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"121"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 121]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "121"]]
  Rendered cart/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms)
Started PATCH "/cart_stickers/121?adjustment=increase" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"increase", "id"=>"121"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 121]]
Redirected to http://www.example.com/cart
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:31 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "121"]]
  Rendered cart/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1j60mtd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d26b02cc3ea37fe485a4e403f7d7af1f20151201-3418-ba3qd7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d26b02cc3ea37fe485a4e403f7d7af1f20151201-3418-1ql6niv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1ev555r.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d26b02cc3ea37fe485a4e403f7d7af1f20151201-3418-j1bzkf'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-7cxca6.png'
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:31.812515"], ["price", "6.0"], ["created_at", "2015-12-01 21:32:32.007783"], ["updated_at", "2015-12-01 21:32:32.007783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=122" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"122"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 122]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=122" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"122"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 122]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "122"]]
  Rendered cart/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
Started PATCH "/cart_stickers/122?adjustment=decrease" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#update as HTML
  Parameters: {"adjustment"=>"decrease", "id"=>"122"}
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 122]]
Redirected to http://www.example.com/cart
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "122"]]
  Rendered cart/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-cgouwy.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d8b1a16d95f2d90fb1697e9f96e5069020151201-3418-1oalwnl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d8b1a16d95f2d90fb1697e9f96e5069020151201-3418-c2ppi6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-1n9lq6z.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/d8b1a16d95f2d90fb1697e9f96e5069020151201-3418-1ovwjo4'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSticker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1[0m
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-a6bx8s.png'
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:32.208815"], ["price", "6.0"], ["created_at", "2015-12-01 21:32:32.403997"], ["updated_at", "2015-12-01 21:32:32.403997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$wOiMBNWAHSk6s.t8e5w0je8O4ta7V7e44dzzxoqeYAF/s14J2UUxy"], ["created_at", "2015-12-01 21:32:32.420997"], ["updated_at", "2015-12-01 21:32:32.420997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.5ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 123]]
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.4ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 123]]
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms)
Started POST "/cart_stickers?sticker_id=123" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"123"}
  [1m[36mSticker Load (0.2ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 123]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[35mSticker Load (0.3ms)[0m  SELECT "stickers".* FROM "stickers"
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 123]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.7ms)
Started POST "/cart_stickers?sticker_id=123" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"123"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 123]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 123]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.5ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", "123"]]
  Rendered cart/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 123]]
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.5ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by OrdersController#create as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 123], ["created_at", "2015-12-01 21:32:32.493413"], ["updated_at", "2015-12-01 21:32:32.493413"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "order_stickers" ("quantity", "sticker_id", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["sticker_id", 123], ["order_id", 60], ["created_at", "2015-12-01 21:32:32.495142"], ["updated_at", "2015-12-01 21:32:32.495142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/orders
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 123]]
  Rendered orders/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-wnqhrd.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' -auto-orient -resize "100x100>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/29f0e67e0bd2ba0d0b73bf1f03f8549d20151201-3418-1miwiz1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' -auto-orient -resize "200x" -crop "200x200+0+0" +repage '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/29f0e67e0bd2ba0d0b73bf1f03f8549d20151201-3418-1mrhc1c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]'
Command :: convert '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-u8otuz.png[0]' -auto-orient -resize "300x300>" '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/29f0e67e0bd2ba0d0b73bf1f03f8549d20151201-3418-gjlc61'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSticker Exists (0.3ms)[0m  SELECT  1 AS one FROM "stickers" WHERE "stickers"."title" = 'Nodejs' LIMIT 1
Command :: file -b --mime '/var/folders/gb/_5z19qm555b87xl0g90xwm_40000gn/T/671a0da0ba061c98de801409dbc57d7e20151201-3418-k2b2yv.png'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stickers" ("title", "image_file_name", "image_content_type", "image_file_size", "image_updated_at", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Nodejs"], ["image_file_name", "nodejs.png"], ["image_content_type", "image/png"], ["image_file_size", 4505], ["image_updated_at", "2015-12-01 21:32:32.617523"], ["price", "6.0"], ["created_at", "2015-12-01 21:32:32.803309"], ["updated_at", "2015-12-01 21:32:32.803309"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started POST "/cart_stickers?sticker_id=124" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartStickersController#create as HTML
  Parameters: {"sticker_id"=>"124"}
  [1m[35mSticker Load (0.2ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 124]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by StickersController#index as HTML
  [1m[36mSticker Load (0.3ms)[0m  [1mSELECT "stickers".* FROM "stickers"[0m
  Rendered stickers/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
Started GET "/cart" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by CartController#index as HTML
  [1m[35mSticker Load (0.4ms)[0m  SELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stickers".* FROM "stickers" WHERE "stickers"."id" = $1 LIMIT 1[0m  [["id", "124"]]
  Rendered cart/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.4ms)
Started POST "/checkout" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by OrdersController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:32:32 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "beyonce"], ["password_digest", "$2a$04$ey1C8Co7kp25lGzQCH4j6uo.Tz49SOTv77IVL8QaDhycp2ZRpjWje"], ["role", 1], ["created_at", "2015-12-01 21:32:32.866594"], ["updated_at", "2015-12-01 21:32:32.866594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (222.3ms)[0m  [1mDROP DATABASE IF EXISTS "sticker_shop_test"[0m
  [1m[35m (230.7ms)[0m  CREATE DATABASE "sticker_shop_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (6.3ms)[0m  CREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "slug" character varying) 
  [1m[36m (2.6ms)[0m  [1mCREATE TABLE "order_stickers" ("id" serial primary key, "quantity" integer, "order_id" integer, "sticker_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.3ms)[0m  CREATE  INDEX  "index_order_stickers_on_order_id" ON "order_stickers" USING btree ("order_id")
  [1m[36m (1.1ms)[0m  [1mCREATE  INDEX  "index_order_stickers_on_sticker_id" ON "order_stickers" USING btree ("sticker_id")[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "status" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")[0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "projects" ("id" serial primary key, "title" character varying, "image_url" character varying, "goal_amount" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "category_id" integer, "description" text, "retired" boolean DEFAULT 'f', "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp, "borrower_id" integer) 
  [1m[36m (1.8ms)[0m  [1mCREATE  INDEX  "index_projects_on_borrower_id" ON "projects" USING btree ("borrower_id")[0m
  [1m[35m (1.2ms)[0m  CREATE  INDEX  "index_projects_on_category_id" ON "projects" USING btree ("category_id")
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "role" integer DEFAULT 0, "street_address" character varying, "city" character varying, "state" character varying, "zip" character varying) [0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_a163a7139d"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")

  [1m[36m (1.9ms)[0m  [1mALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_64d393616e"
FOREIGN KEY ("sticker_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")

  [1m[36m (1.9ms)[0m  [1mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_2ad2693164"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151201214401')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151109233140')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110014522')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110014651')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110162749')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110222025')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151111025316')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151112021959')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114022109')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114184730')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114193643')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151115161330')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151116224156')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117153302')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117192957')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117203807')
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151118202532')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151119020639')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151119162543')[0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151201214013')
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$UbgLETMdY1JrR26qEbI.4OBsAuhMAZMtyFeeij3CT/mliv4SXTCs2"], ["created_at", "2015-12-01 21:52:22.371431"], ["updated_at", "2015-12-01 21:52:22.371431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Emily"], ["password_digest", "$2a$04$/0/pbrQrw02nQMMy1bw0v.wj4k32VT3ouDzMHbdtRR13cErcabEVG"], ["created_at", "2015-12-01 21:52:22.379450"], ["updated_at", "2015-12-01 21:52:22.379450"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 1], ["created_at", "2015-12-01 21:52:22.418249"], ["updated_at", "2015-12-01 21:52:22.418249"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 2], ["created_at", "2015-12-01 21:52:22.421880"], ["updated_at", "2015-12-01 21:52:22.421880"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$ny3aAA5/U4QetsBkkwBAWeqD3XeFU4W.Ns5PHhSFkNN7mIFwMxq.y"], ["role", 1], ["created_at", "2015-12-01 21:52:22.470647"], ["updated_at", "2015-12-01 21:52:22.470647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (266.8ms)
Completed 200 OK in 421ms (Views: 412.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 3]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$qjCA3D9JUvxpogNALxZKdO4AUkZ1yCCDlXuySBriajQwZ8cp1zTkS"], ["role", 1], ["created_at", "2015-12-01 21:52:22.955041"], ["updated_at", "2015-12-01 21:52:22.955041"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 1.0ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:22 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 2ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:52:23.089715"], ["updated_at", "2015-12-01 21:52:23.089715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:52:23.097442"], ["updated_at", "2015-12-01 21:52:23.097442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-01 21:52:23.103211"], ["updated_at", "2015-12-01 21:52:23.103211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 3) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$Ru7YQQYK8XdnWfuHk/F0Deih07h.RHfvIizn7qYOWE/48eFSPfKrS"], ["role", 1], ["created_at", "2015-12-01 21:52:23.113892"], ["updated_at", "2015-12-01 21:52:23.113892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-01 21:52:23.152659"], ["updated_at", "2015-12-01 21:52:23.152659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-01 21:52:23.155388"], ["updated_at", "2015-12-01 21:52:23.155388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$HHPPh5i7.oGuOyvR6IGGouonSncvkkT48fMD2d.wbTtoGEGDyhbfm"], ["created_at", "2015-12-01 21:52:23.165087"], ["updated_at", "2015-12-01 21:52:23.165087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "beyonce"], ["password_digest", "$2a$04$wT9en7rUr1iNgXufEAjhweSbVZf.XIpH7sXMKgJ2PwvIog.KM9wqK"], ["role", 1], ["created_at", "2015-12-01 21:52:23.185145"], ["updated_at", "2015-12-01 21:52:23.185145"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-01 21:52:23.197193"], ["updated_at", "2015-12-01 21:52:23.197193"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$KPx/iuiT893PF6lAnw6.JOOnd4HMgJ6tMHfj9AWiZfUbgeOSCY9Oy"], ["created_at", "2015-12-01 21:52:23.203519"], ["updated_at", "2015-12-01 21:52:23.203519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$GPckdb5s66LA1OeL9B1AGOLzVpOTLPbuagJP5ifeG5bWPVstQvIvW"], ["created_at", "2015-12-01 21:52:23.214585"], ["updated_at", "2015-12-01 21:52:23.214585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$PlQYuPpgAqZireRYB56izOuHjk.CM1XXVXreS6BTbZMOVvrK7Fv7O"], ["created_at", "2015-12-01 21:52:23.223480"], ["updated_at", "2015-12-01 21:52:23.223480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Paid"], ["user_id", 10], ["created_at", "2015-12-01 21:52:23.226502"], ["updated_at", "2015-12-01 21:52:23.226502"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$6PZ4g4yKV4sQ7.sj/J/rMuEBnIPON0crQRjmpUhco3QNr7CbwAfnu"], ["created_at", "2015-12-01 21:52:23.230553"], ["updated_at", "2015-12-01 21:52:23.230553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Ordered"], ["user_id", 10], ["created_at", "2015-12-01 21:52:23.233229"], ["updated_at", "2015-12-01 21:52:23.233229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "jason"], ["password_digest", "$2a$04$OptDwhR7W1AzguXjoUorh.LECnEgD7vjlM4Uq11OEm8XBnpCAXm52"], ["created_at", "2015-12-01 21:52:23.246790"], ["updated_at", "2015-12-01 21:52:23.246790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 12], ["created_at", "2015-12-01 21:52:23.251875"], ["updated_at", "2015-12-01 21:52:23.251875"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "bob"], ["password_digest", "$2a$04$ZtTRfksQvZfFt3283OVDOeGO4vV53BUMeSls8494E33fc013ept2i"], ["created_at", "2015-12-01 21:52:23.259024"], ["updated_at", "2015-12-01 21:52:23.259024"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Cancelled"], ["user_id", 12], ["created_at", "2015-12-01 21:52:23.261927"], ["updated_at", "2015-12-01 21:52:23.261927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$IYowQkOfrPEvBuI6.y/hmODb33eAxVkjv14CjfL742MbRTpB/j61G"], ["role", 1], ["created_at", "2015-12-01 21:52:23.292989"], ["updated_at", "2015-12-01 21:52:23.292989"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 1.2ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 14]]
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.4ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 14]]
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$OykeM16fL0QiCcbrnUjbUee8KAwTciW0LHKlYgX5Q1UW4fDuBczyS"], ["role", 1], ["created_at", "2015-12-01 21:52:23.360314"], ["updated_at", "2015-12-01 21:52:23.360314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.0ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  Rendered users/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.2ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by UsersController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
  Rendered users/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms)
Started PATCH "/users/15" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"15"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 15) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6[0m  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$t7OfAXuQSy.eSvbNCxhFt.7ZhA3YjVnPVrpi9aBeidlFha8AdfUae"], ["updated_at", "2015-12-01 21:52:23.448722"], ["id", 15]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/dashboard
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 15]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$uuA4dnq5TuinQEaTO.DLkOoY9okhZXsVBmcvTYgpq9CTc9NmdXHM."], ["role", 1], ["created_at", "2015-12-01 21:52:23.469584"], ["updated_at", "2015-12-01 21:52:23.469584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 1.1ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 16]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$HNfFCNeWYl2vKYiAhhgKCeo1AFUz7pwwKWLz/UlI6pmRl2QZWpS8m"], ["role", 1], ["created_at", "2015-12-01 21:52:23.509663"], ["updated_at", "2015-12-01 21:52:23.509663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 17]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$xrrd19.v.sVpb6bKI2Ezze8NxCOm7lMgk/Zj5esJxJpG6czmnjur."], ["role", 1], ["created_at", "2015-12-01 21:52:23.541217"], ["updated_at", "2015-12-01 21:52:23.541217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 18]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$DjZgDn5cVQpjnXDRA5KjMeYyJgmIZLAsiw0jHwfczLkUBsEJcKO3u"], ["role", 1], ["created_at", "2015-12-01 21:52:23.570090"], ["updated_at", "2015-12-01 21:52:23.570090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$MVJfJicG3Nq0LPiUm6cz/uJ2CwQQXyNH/1AXeW05r4ShQRx5ZMNQO"], ["role", 1], ["created_at", "2015-12-01 21:52:23.600756"], ["updated_at", "2015-12-01 21:52:23.600756"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::StickersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 20]]
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$j2v8BkZ6grCUxylHcLcJ5uoc1CWs.schg43/Xft.H0R7xbYbYyZqW"], ["role", 1], ["created_at", "2015-12-01 21:52:23.633920"], ["updated_at", "2015-12-01 21:52:23.633920"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "James"], ["password_digest", "$2a$04$mR1.xF6HSzxBkM57vunzWOHe7dyg52hAoMbEOlJzme68ouxfbZK9W"], ["created_at", "2015-12-01 21:52:23.649098"], ["updated_at", "2015-12-01 21:52:23.649098"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.7ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 25ms (Views: 25.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$71sNPtGb/ccMs8xX0xJkjeSDz0QEk/bysT76X1jWSflb/Un1Z2XoG"], ["created_at", "2015-12-01 21:52:23.698558"], ["updated_at", "2015-12-01 21:52:23.698558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.0ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$g1VSi635uy/Q/aUmn00TmOWAM3ltAwx.xlc6jdUmb1fVkyw.qUvBS"], ["role", 1], ["created_at", "2015-12-01 21:52:23.723150"], ["updated_at", "2015-12-01 21:52:23.723150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "sekhar"], ["password_digest", "$2a$04$5Lp048Yd5RJem2RBoIwRs.TG7dj2JpzC.YtRj2WnIasO9jgmyGz1W"], ["created_at", "2015-12-01 21:52:23.727060"], ["updated_at", "2015-12-01 21:52:23.727060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 25], ["created_at", "2015-12-01 21:52:23.729168"], ["updated_at", "2015-12-01 21:52:23.729168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 25], ["created_at", "2015-12-01 21:52:23.730862"], ["updated_at", "2015-12-01 21:52:23.730862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 24], ["created_at", "2015-12-01 21:52:23.732679"], ["updated_at", "2015-12-01 21:52:23.732679"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "cancelled"], ["user_id", 24], ["created_at", "2015-12-01 21:52:23.734266"], ["updated_at", "2015-12-01 21:52:23.734266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$96AhgwQWKmpe6WUB6HLYoeLw0trVNAJsFw1yJwKVqoQjnEwFSOPc6"], ["created_at", "2015-12-01 21:52:23.787615"], ["updated_at", "2015-12-01 21:52:23.787615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 14:52:23 -0700
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Jon"], ["password_digest", "$2a$04$g.92ah.F3IrKCAsOZiZEquX6ueZZDlx.KbT6j2OW.BZykUKtrovTO"], ["created_at", "2015-12-01 21:52:23.794662"], ["updated_at", "2015-12-01 21:52:23.794662"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
PG::UndefinedTable: ERROR:  relation "stickers" does not exist
LINE 5:                WHERE a.attrelid = '"stickers"'::regclass
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"stickers"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (1.3ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 21:55:51.671413"], ["updated_at", "2015-12-01 21:55:51.671413"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:55:51 -0700
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.8ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 21:56:16.869587"], ["updated_at", "2015-12-01 21:56:16.869587"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:56:16 -0700
Processing by StickersController#index as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.8ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 21:58:58.371416"], ["updated_at", "2015-12-01 21:58:58.371416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:58:58 -0700
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (2.5ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 21:59:42.762601"], ["updated_at", "2015-12-01 21:59:42.762601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 14:59:42 -0700
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (1.1ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:00:04.884215"], ["updated_at", "2015-12-01 22:00:04.884215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:00:04 -0700
Processing by ProjectsController#index as HTML
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.9ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:00:22.520260"], ["updated_at", "2015-12-01 22:00:22.520260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:00:22 -0700
Processing by ProjectsController#index as HTML
  Rendered projects/index.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.7ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:01:01.111586"], ["updated_at", "2015-12-01 22:01:01.111586"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:01:01 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (27.2ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.7ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:02:33.168315"], ["updated_at", "2015-12-01 22:02:33.168315"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:02:33 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (24.5ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.8ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:03:07.580206"], ["updated_at", "2015-12-01 22:03:07.580206"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:03:07 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (24.1ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.9ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:03:43.270117"], ["updated_at", "2015-12-01 22:03:43.270117"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:03:43 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (3.2ms)
Completed 500 Internal Server Error in 157ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (2.3ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:04:56.900512"], ["updated_at", "2015-12-01 22:04:56.900512"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:04:56 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 144ms (Views: 135.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.8ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:05:39.723683"], ["updated_at", "2015-12-01 22:05:39.723683"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:05:39 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 138ms (Views: 129.3ms | ActiveRecord: 0.3ms)
Started GET "/projects" for 127.0.0.1 at 2015-12-01 15:05:39 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.8ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:06:50.728729"], ["updated_at", "2015-12-01 22:06:50.728729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:06:50 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 146ms (Views: 136.5ms | ActiveRecord: 0.4ms)
Started GET "/projects" for 127.0.0.1 at 2015-12-01 15:06:50 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProject Exists (0.7ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-01 22:08:04.865220"], ["updated_at", "2015-12-01 22:08:04.865220"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 15:08:04 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 131ms (Views: 122.2ms | ActiveRecord: 0.3ms)
Started GET "/projects" for 127.0.0.1 at 2015-12-01 15:08:05 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (221.1ms)[0m  [1mDROP DATABASE IF EXISTS "sticker_shop_test"[0m
  [1m[35m (336.0ms)[0m  CREATE DATABASE "sticker_shop_test" ENCODING = 'unicode'
  [1m[36mSQL (0.7ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "categories" ("id" serial primary key, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "slug" character varying) 
  [1m[36m (3.8ms)[0m  [1mCREATE TABLE "order_stickers" ("id" serial primary key, "quantity" integer, "order_id" integer, "sticker_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE  INDEX  "index_order_stickers_on_order_id" ON "order_stickers" USING btree ("order_id")
  [1m[36m (1.9ms)[0m  [1mCREATE  INDEX  "index_order_stickers_on_sticker_id" ON "order_stickers" USING btree ("sticker_id")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "orders" ("id" serial primary key, "status" character varying, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE  INDEX  "index_orders_on_user_id" ON "orders" USING btree ("user_id")[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE "projects" ("id" serial primary key, "title" character varying, "image_url" character varying, "goal_amount" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "category_id" integer, "description" text, "retired" boolean DEFAULT 'f', "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp, "borrower_id" integer) 
  [1m[36m (1.7ms)[0m  [1mCREATE  INDEX  "index_projects_on_borrower_id" ON "projects" USING btree ("borrower_id")[0m
  [1m[35m (1.7ms)[0m  CREATE  INDEX  "index_projects_on_category_id" ON "projects" USING btree ("category_id")
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "first_name" character varying, "last_name" character varying, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "role" integer DEFAULT 0, "street_address" character varying, "city" character varying, "state" character varying, "zip" character varying) [0m
  [1m[35m (2.8ms)[0m  ALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_a163a7139d"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")

  [1m[36m (1.8ms)[0m  [1mALTER TABLE "order_stickers" ADD CONSTRAINT "fk_rails_64d393616e"
FOREIGN KEY ("sticker_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "orders" ADD CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")

  [1m[36m (2.5ms)[0m  [1mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_2ad2693164"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying NOT NULL) 
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (0.3ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151201214401')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151109233140')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110014522')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110014651')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151110162749')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151110222025')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151111025316')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151112021959')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114022109')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151114184730')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151114193643')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151115161330')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151116224156')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117153302')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151117192957')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151117203807')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151118202532')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151119020639')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151119162543')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151201214013')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------
OrderTest: test_is_finished_if_status_includes_completed_or_cancelled
---------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$5kd41snRMN2AsBh7B18tButIpQBumah5h6JMkEIKXnIZ.30imZn7W"], ["created_at", "2015-12-02 02:25:18.972247"], ["updated_at", "2015-12-02 02:25:18.972247"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 1], ["created_at", "2015-12-02 02:25:19.032363"], ["updated_at", "2015-12-02 02:25:19.032363"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$rFZg2QtQdJLQru1S15S8ru8ZZ6sx0ObcrN7sDDjdLROjT4wf3d5t2"], ["created_at", "2015-12-02 02:25:19.037942"], ["updated_at", "2015-12-02 02:25:19.037942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Cancelled"], ["user_id", 1], ["created_at", "2015-12-02 02:25:19.040075"], ["updated_at", "2015-12-02 02:25:19.040075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
OrderTest: test_: Order should belong to user. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
OrderTest: test_: Order should have many order_stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------
OrderTest: test_is_no_finished_if_status_includes_paid_or_ordered
-----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jason"], ["password_digest", "$2a$04$UWCJ3v.MAIvw4P2MNIUiwOtATO/gSit84gWmSSTtszGZ9UQpcbzz6"], ["created_at", "2015-12-02 02:25:19.050639"], ["updated_at", "2015-12-02 02:25:19.050639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "Paid"], ["user_id", 3], ["created_at", "2015-12-02 02:25:19.053060"], ["updated_at", "2015-12-02 02:25:19.053060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'bob' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "bob"], ["password_digest", "$2a$04$kdq2RvREaAh3n9ec6bHjbOVccubNKLzO3Fp7rHO2qit8tACjXMAj6"], ["created_at", "2015-12-02 02:25:19.056753"], ["updated_at", "2015-12-02 02:25:19.056753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "Ordered"], ["user_id", 3], ["created_at", "2015-12-02 02:25:19.058651"], ["updated_at", "2015-12-02 02:25:19.058651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
ViewSpecificOrderTest: test_authenticated_user_can_see_specific_past_order
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$rAct0Xatt7MJVEiTOu2.7eJ8zMSXuXO85S2MWl6f8RsldRWyYQZsu"], ["created_at", "2015-12-02 02:25:19.064101"], ["updated_at", "2015-12-02 02:25:19.064101"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:19 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.7ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_navbar.html.erb (0.9ms)
Completed 200 OK in 1029ms (Views: 1012.2ms | ActiveRecord: 1.5ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (268.9ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 274ms (Views: 273.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  Rendered layouts/_navbar.html.erb (2.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "ordered"], ["user_id", 5], ["created_at", "2015-12-02 02:25:20.472407"], ["updated_at", "2015-12-02 02:25:20.472407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orders" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 5]]
  Rendered orders/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.6ms)
Started GET "/orders/5" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mOrderSticker Load (0.5ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 5]]
  Rendered orders/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
CartStickerTest: test_can_initialize_with_sticker_and_quantity
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartStickerTest: test_can_return_subtotal
-----------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
CartTest: test_returns_sum_of_all_added_stickers
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------
CartTest: test_can_subtract_sticker
-----------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_can_add_sticker
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
CartTest: test_return_sum_of_specific_added_stickers
----------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
CartTest: test_stores_stickers
------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
UserCannotViewOtherUsersOrdersTest: test_user_can_only_see_his_or_her_past_orders
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$ntybXVGt3clEqhzE4g1IduZj7CJMQHzGai9c3IRbe55935RXWddr."], ["created_at", "2015-12-02 02:25:20.529083"], ["updated_at", "2015-12-02 02:25:20.529083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Emily"], ["password_digest", "$2a$04$KGGeEfS2lpb.6z7vqX8ynO4n7RNgxicpLaawEVo4Hr4aAC3KD/Dre"], ["created_at", "2015-12-02 02:25:20.534025"], ["updated_at", "2015-12-02 02:25:20.534025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 6], ["created_at", "2015-12-02 02:25:20.536532"], ["updated_at", "2015-12-02 02:25:20.536532"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 7], ["created_at", "2015-12-02 02:25:20.539600"], ["updated_at", "2015-12-02 02:25:20.539600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (1.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  Rendered layouts/_navbar.html.erb (1.3ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.7ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.6ms)
Started GET "/orders/6" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrderSticker Load (0.2ms)[0m  [1mSELECT "order_stickers".* FROM "order_stickers" WHERE "order_stickers"."order_id" = $1[0m  [["order_id", 6]]
  Rendered orders/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.7ms)
Started GET "/orders/7" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 7]]
Redirected to http://www.example.com/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
Started GET "/orders" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 6]]
  Rendered orders/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
UserAuthenticationTest: test_user_can_login
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$ZiW26Mw6i7ABhqaMPQJRIeJ0YGLP1VAiS3cMiu1detn8QekqenDVm"], ["created_at", "2015-12-02 02:25:20.606522"], ["updated_at", "2015-12-02 02:25:20.606522"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.4ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jon"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 8]]
  Rendered layouts/_navbar.html.erb (0.8ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UserAuthenticationTest: test_visitor_can_create_account_and_sign_in
-------------------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
Started GET "/users/new" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"", "last_name"=>"", "username"=>"Jon", "password"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("first_name", "last_name", "username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["first_name", ""], ["last_name", ""], ["username", "Jon"], ["password_digest", "$2a$04$iya/Q3T9NuaSLXrBVJmaVugA5bUjt7Jqwmui8ZwQXPlR32nxT.s9C"], ["created_at", "2015-12-02 02:25:20.659258"], ["updated_at", "2015-12-02 02:25:20.659258"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 9]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
UserAuthenticationTest: test_logged_in_user_sees_cart_contents
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jon' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Jon"], ["password_digest", "$2a$04$qkwRoaoiqCQBa0/L.lvdfOy5K0G6UFe52yJJldE5ZMgvwnwACkJCS"], ["created_at", "2015-12-02 02:25:20.674213"], ["updated_at", "2015-12-02 02:25:20.674213"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
UserAuthenticationTest: test_visitor_can_see_login_link
-------------------------------------------------------
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------
ItemShowPageTest: test_visitor_can_view_sticker_details
-------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'geeky' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "geeky"], ["slug", "geeky"], ["created_at", "2015-12-02 02:25:20.815722"], ["updated_at", "2015-12-02 02:25:20.815722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
RemoveItemsFromCartTest: test_cart_displays_sticker_information_for_removing
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
RemoveItemsFromCartTest: test_displays_removed_sticker_from_cart_message_and_cart_sticker_quantity_on_cart_page
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
CategoryTest: test_is_valid_with_title
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mCategory Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-02 02:25:20.828434"], ["updated_at", "2015-12-02 02:25:20.828434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE ("categories"."title" = 'Cool Category' AND "categories"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CategoryTest: test_is_not_valid_without_title
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CategoryTest: test_its_title_must_be_unique
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-02 02:25:20.837614"], ["updated_at", "2015-12-02 02:25:20.837614"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
CategoryTest: test_returns_parameterized_slug_of_title
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.2ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Cool Category' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Cool Category"], ["slug", "cool-category"], ["created_at", "2015-12-02 02:25:20.845997"], ["updated_at", "2015-12-02 02:25:20.845997"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
CategoryTest: test_: Category should have many stickers. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
AddItemsToCartTest: test_cart_displays_sticker_information
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_price_under_a_dollar
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AddItemsToCartTest: test_displays_added_item_to_cart_message_and_cart_item_quantity
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_correct
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AddItemsToCartTest: test_show_page_price_is_valid_with_cents
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminViewsStickersTest: test_admin_can_view_stickers
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$lK8hFYY911gRdDDLVh/q.eZkZMlwQRvykxIoCwS2oRN2hNxOlb4gy"], ["role", 1], ["created_at", "2015-12-02 02:25:20.860440"], ["updated_at", "2015-12-02 02:25:20.860440"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 11]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
AdminViewsStickersTest: test_visit_index_page_from_dashboard
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$jPqW3WOGEBKoju/7XEw9EOETnAtvHEAS60zC5S1dYnVtd.vmWjAW6"], ["role", 1], ["created_at", "2015-12-02 02:25:20.921218"], ["updated_at", "2015-12-02 02:25:20.921218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.3ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 12]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
UserTest: test_: User should have many orders. 
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
UserTest: test_it_is_invalid_without_password
---------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Dr. Dre' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserTest: test_it_is_invalid_without_username
---------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
UserTest: test_has_a_default_role_as_user
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_it_is_valid_with_correct_params
----------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_username_must_be_unique
--------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "beyonce"], ["password_digest", "$2a$04$dpUrmIGsqoIQnPoOkQOrNuRqzw1nHZirqSZcFGSfEWcao.m0eKe56"], ["role", 1], ["created_at", "2015-12-02 02:25:20.967027"], ["updated_at", "2015-12-02 02:25:20.967027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'beyonce' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------
StickerTest: test_: Sticker should belong to category. 
-------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
StickerTest: test_is_valid_with_correct_params
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
StickerTest: test_: Sticker should have many order_stickers. 
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_title
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StickerTest: test_is_invalid_without_price
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_user_can_checkout_and_place_order
------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------------------
UserCanCheckoutAndPlaceOrderTest: test_visitor_will_be_asked_to_login_when_trying_to_checkout
---------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserCanViewPastOrderTest: test_past_order_view
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Sekhar"], ["password_digest", "$2a$04$pJ.1i3z9c6mEU7dDszhnc.77RyIYz5rjCYlLw.b3ZUCFSV1qP0tMu"], ["created_at", "2015-12-02 02:25:20.986355"], ["updated_at", "2015-12-02 02:25:20.986355"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_sticker_if_price_includes_a_decimal
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$PXpepIIPsJ8L3qzl7ppHhORvLaWNQDNmUpnxBqUvvjDRvNSJXAJWC"], ["role", 1], ["created_at", "2015-12-02 02:25:20.992130"], ["updated_at", "2015-12-02 02:25:20.992130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:20 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 15]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
AdminStickerCreationTest: test_admin_cannot_create_sticker_with_price_of_0
--------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$nvCuAF.q6Ov/wcatYiJJle8W211.Xh4MzEs19SW2xD5AB.XxlJ2B2"], ["role", 1], ["created_at", "2015-12-02 02:25:21.026195"], ["updated_at", "2015-12-02 02:25:21.026195"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.8ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 16]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------
AdminStickerCreationTest: test_admin_can_create_item
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$XhvoI5dywXvqd5UgRXm4o.6hFetSW0QdfRNfb46W22Zz.awLG/7ZG"], ["role", 1], ["created_at", "2015-12-02 02:25:21.059780"], ["updated_at", "2015-12-02 02:25:21.059780"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 17]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
AdminLogsInTest: test_admin_logs_in_and_redirects_to_admin_dashboard
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$4rQIYqoP94BAjumolsBLL.K9vfUCwWv44pIpZVW0YDEi/IYoQPw9."], ["role", 1], ["created_at", "2015-12-02 02:25:21.097625"], ["updated_at", "2015-12-02 02:25:21.097625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_navbar.html.erb (0.8ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
AdminOrdersTest: test_admin_can_view_listing_of_all_orders
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "emily"], ["password_digest", "$2a$04$2VucR17/Yr0nfK13lDoXr.zuRhVkT1hVCm.kPVR9yuCdNqhpSlNPi"], ["role", 1], ["created_at", "2015-12-02 02:25:21.135819"], ["updated_at", "2015-12-02 02:25:21.135819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "sekhar"], ["password_digest", "$2a$04$jLgvsTlFLMSMcdlkJHBQxeaMIxu8HlI0msWso27e3Nr36qbw5U1nu"], ["created_at", "2015-12-02 02:25:21.140599"], ["updated_at", "2015-12-02 02:25:21.140599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 20], ["created_at", "2015-12-02 02:25:21.145311"], ["updated_at", "2015-12-02 02:25:21.145311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "completed"], ["user_id", 20], ["created_at", "2015-12-02 02:25:21.148068"], ["updated_at", "2015-12-02 02:25:21.148068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "completed"], ["user_id", 19], ["created_at", "2015-12-02 02:25:21.151002"], ["updated_at", "2015-12-02 02:25:21.151002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "cancelled"], ["user_id", 19], ["created_at", "2015-12-02 02:25:21.153662"], ["updated_at", "2015-12-02 02:25:21.153662"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------
AdminEditStickerTest: test_admin_can_edit_sticker_status
--------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$yRCuQZmax.MGu7kzwOAQM.xDoLGtDL4ppBTzzBU3YuGJ9FpuFn./K"], ["role", 1], ["created_at", "2015-12-02 02:25:21.203443"], ["updated_at", "2015-12-02 02:25:21.203443"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.5ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (5.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 1.2ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 21]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
AdminEditStickerTest: test_admin_can_view_edit_path
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$PQArtszQsHd9/atlOevhfOuvlU0b68W4aOpQkfXL4p6e7xrjiOWWi"], ["role", 1], ["created_at", "2015-12-02 02:25:21.245756"], ["updated_at", "2015-12-02 02:25:21.245756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "emily"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.9ms)
Started GET "/admin/stickers/new" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::StickersController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 22]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_cannot_be_added_to_cart
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_user_cart_shows_retired_stickers
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------
StickerRetirementTest: test_retired_stickers_have_show_pages
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------
StickerRetirementTest: test_user_order_page_shows_retired_stickers
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorViewsItemsByCategoryTest: test_visitor_sees_stickers_in_correct_category
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.3ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Companies' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Companies"], ["slug", "companies"], ["created_at", "2015-12-02 02:25:21.286123"], ["updated_at", "2015-12-02 02:25:21.286123"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mCategory Exists (0.5ms)[0m  SELECT  1 AS one FROM "categories" WHERE "categories"."title" = 'Products' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "categories" ("title", "slug", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Products"], ["slug", "products"], ["created_at", "2015-12-02 02:25:21.290611"], ["updated_at", "2015-12-02 02:25:21.290611"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_is_redirected_to_login_before_checkout
---------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_user_data
---------------------------------------------------------------
Started GET "/users" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started GET "/user/1" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"user/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.4ms)
  Rendered layouts/_navbar.html.erb (1.1ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_visitor_cannot_see_admin_data
----------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
AuthenticatedUserPrivacyTest: test_authenticated_user_cannot_see_another_user's_data
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'emily' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "emily"], ["password_digest", "$2a$04$W6x4xg2vL0KEsPB1wv9.d.Sf6iRpqp1fGid8AZKqz3kJR2Pk9VON."], ["created_at", "2015-12-02 02:25:21.365594"], ["updated_at", "2015-12-02 02:25:21.365594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"emily", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "emily"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
  Rendered layouts/_navbar.html.erb (1.7ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered layouts/_navbar.html.erb (1.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 23]]
  Rendered layouts/_navbar.html.erb (1.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered public/404.html within layouts/application (0.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------
ViewingPastOrdersTest: test_authenticated_user_can_see_past_orders
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Sekhar' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["username", "Sekhar"], ["password_digest", "$2a$04$u/9GhU0n3apmrSpAOqFBAeZiqUf.Zuc7lUiT12zd05VMH0QjDSTf6"], ["created_at", "2015-12-02 02:25:21.427295"], ["updated_at", "2015-12-02 02:25:21.427295"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.7ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Sekhar", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Sekhar"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  Rendered layouts/_navbar.html.erb (0.9ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "ordered"], ["user_id", 24], ["created_at", "2015-12-02 02:25:21.458121"], ["updated_at", "2015-12-02 02:25:21.458121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/orders" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1  [["user_id", 24]]
  Rendered orders/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to order. 
--------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
OrderStickerTest: test_: OrderSticker should belong to sticker. 
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_decrease_item_quantity_in_cart
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------
VisitorCartQuantityChangesTest: test_visitor_can_increase_item_quantity_in_cart
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------
AdminViewsDashboardTest: test_un-regestered_user_sees_a_404_at_admin_dashboard
------------------------------------------------------------------------------
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------
AdminViewsDashboardTest: test_registered_user_sees_404_at_admin_dashboard
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'James' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "James"], ["password_digest", "$2a$04$q/eOxGmOhknvCDsYOi1tPeRyV3dTR0enul83IlFvfF8q.IUkN5cku"], ["created_at", "2015-12-02 02:25:21.492622"], ["updated_at", "2015-12-02 02:25:21.492622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  Rendered public/404.html within layouts/application (0.1ms)
  Rendered layouts/_navbar.html.erb (0.7ms)
Filter chain halted as :require_admin rendered or redirected
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------
AdminViewsDashboardTest: test_admin_can_view_the_admin_dashboard
----------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$7v/Xi/6hcLWMlJWCEbTN7ute33iaF3aTfyQvWGvBiBllPPn.Zh9qy"], ["role", 1], ["created_at", "2015-12-02 02:25:21.508009"], ["updated_at", "2015-12-02 02:25:21.508009"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_can_modify_their_account_data
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["username", "Jason"], ["password_digest", "$2a$04$3SOhrv0mCatj/CIKSp3RHu56yF1avkPUNzAiqhQwl86bGoPQSd/We"], ["role", 1], ["created_at", "2015-12-02 02:25:21.526106"], ["updated_at", "2015-12-02 02:25:21.526106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "ordered"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "paid"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "completed"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "cancelled"]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"
  Rendered admin/dashboard/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.8ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by UsersController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_navbar.html.erb (0.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/dashboard/edit" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by UsersController#edit as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
  Rendered users/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_navbar.html.erb (0.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.3ms)
Started PATCH "/users/27" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"first_name"=>"updatedfirstname", "last_name"=>"updatedlastname", "username"=>"Updatedjason", "password"=>"[FILTERED]"}, "commit"=>"Update Profile", "id"=>"27"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Updatedjason' AND "users"."id" != 27) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "first_name" = $1, "last_name" = $2, "username" = $3, "password_digest" = $4, "updated_at" = $5 WHERE "users"."id" = $6  [["first_name", "updatedfirstname"], ["last_name", "updatedlastname"], ["username", "Updatedjason"], ["password_digest", "$2a$04$.FYMRjSSU1w1y3dvdDx2ZuEU0Mq1q.iXTMNG9685l51O4xmRai9Vq"], ["updated_at", "2015-12-02 02:25:21.586012"], ["id", 27]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/dashboard
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by UsersController#show as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 27]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
AdminCannotModifyOtherUsersDataTest: test_admin_cannot_modify_other_users_account_data
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Jason' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "Jason"], ["password_digest", "$2a$04$jZydG7Jt1Cfv05elAuXFz.wj0VGTtsUNueVQFUbMoiedmRWuVEfzO"], ["role", 1], ["created_at", "2015-12-02 02:25:21.603189"], ["updated_at", "2015-12-02 02:25:21.603189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#new as HTML
  Rendered session/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by SessionController#create as HTML
  Parameters: {"utf8"=>"âœ“", "session"=>{"username"=>"Jason", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT 1[0m  [["username", "Jason"]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/admin/dashboard" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by Admin::DashboardController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "ordered"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "paid"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1[0m  [["status", "completed"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders" WHERE "orders"."status" = $1  [["status", "cancelled"]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  Rendered admin/dashboard/index.html.erb within layouts/application (3.4ms)
  Rendered layouts/_navbar.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.9ms)
Started GET "/users" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 28]]
  Rendered layouts/_navbar.html.erb (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ApplicationController#not_found as HTML
  Parameters: {"unmatched_route"=>"users/1"}
  Rendered application/not_found.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 28]]
  Rendered layouts/_navbar.html.erb (1.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
GuestCanViewProjectsIndexTest: test_guest_can_view_projects_index
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProject Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "projects" WHERE "projects"."title" = 'Buy me a goat' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "projects" ("borrower_id", "goal_amount", "title", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["borrower_id", 1], ["goal_amount", "1000.0"], ["title", "Buy me a goat"], ["description", "Mostly goat purchases"], ["created_at", "2015-12-02 02:25:21.657351"], ["updated_at", "2015-12-02 02:25:21.657351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects"
  Rendered projects/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
Started GET "/projects" for 127.0.0.1 at 2015-12-01 19:25:21 -0700
Processing by ProjectsController#index as HTML
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects"[0m
  Rendered projects/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_navbar.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
VisitorView: test_site_visitor_can_view_stickers_index
------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
